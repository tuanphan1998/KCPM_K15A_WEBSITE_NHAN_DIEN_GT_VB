{"ast":null,"code":"import _classCallCheck from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\src\\\\components\\\\FormText.js\";\nimport React, { Component } from 'react';\nimport Camera from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\nimport request from 'superagent';\nimport KOKOBAY from './item';\nimport mahoan from './mahoan.json';\nimport { firebasethree } from '../firebaseconnectio';\nimport { connect } from 'react-redux';\nimport { loadModels, getFullFaceDescription, createMatcher } from '../api/face'; // Import image to test API\n// Import face profile\n\nvar JSON_PROFILE = require('../descriptors/bnk48.json');\n\nvar FormText =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FormText, _Component);\n\n  function FormText(props) {\n    var _this;\n\n    _classCallCheck(this, FormText);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FormText).call(this, props));\n\n    _this.isChange = function (event) {\n      var value = event.target.value;\n\n      _this.setState({\n        image_url: event.target.value,\n        data: event.target.value\n      });\n\n      console.log(value);\n    };\n\n    _this.handleTakePhoto = function (dataUri) {\n      console.log('takePhoto' + dataUri);\n\n      var aes256 = require('aes256');\n\n      var key = 'tuanphan';\n      var canMaHoa = dataUri;\n      var maHoa = aes256.encrypt(key, canMaHoa);\n\n      if (maHoa) {\n        var giaima = aes256.decrypt(key, maHoa);\n\n        _this.setState({\n          dataBase64: giaima.slice(22)\n        });\n      }\n\n      console.log(maHoa);\n    };\n\n    _this.isChange2 = function (event) {\n      var value = event.target.value;\n\n      _this.setState({\n        changeGiayTo: value\n      });\n\n      console.log(value);\n    };\n\n    _this.functionThucThi = function () {\n      try {\n        var info = {};\n        info.image_url = _this.state.image_url;\n        request.post(_this.state.changeGiayTo).set('Content-Type', 'application/x-www-form-urlencoded').set('api_key', _this.hamngoai()).send({\n          image_base64: _this.state.dataBase64\n        }).send({\n          image_url: _this.state.image_url\n        }).send({\n          face: 1\n        }).end(function (err, res) {\n          if (err) {\n            alert(\"ban hết hạn số lượt gọi\");\n          } else {\n            var items = JSON.parse(res.text);\n\n            if (res.body.errorCode === 3) {\n              alert('hệ thống không tìm thấy CMT trong ảnh hoặc ảnh có chất lượng kém (quá mờ, quá tối/sáng).');\n            } else if (res.body.errorCode === 1) {\n              alert('Sai thông số trong request (ví dụ không có key hoặc ảnh trong request body).');\n            } else if (res.body.errorCode === 2) {\n              alert('CMT trong ảnh bị thiếu góc nên không thể crop về dạng chuẩn.');\n            } else if (res.body.errorCode === 5) {\n              alert(' Request sử dụng key image_url nhưng giá trị bỏ trống.');\n            } else if (res.body.errorCode === 6) {\n              alert('Request sử dụng key image_url nhưng hệ thống không thể mở được URL này.');\n            } else if (res.body.errorCode === 7) {\n              alert('File gửi lên không phải là file ảnh.');\n            } else if (res.body.errorCode === 8) {\n              alert(' File ảnh gửi lên bị hỏng hoặc format không được hỗ trợ.');\n            } else if (res.body.errorCode === 9) {\n              alert(' Request sử dụng key image_base64 nhưng giá trị bỏ trống.');\n            } else if (res.body.errorCode === 10) {\n              alert('Request sử dụng key image_base64 nhưng string cung cấp không hợp lệ.');\n            } else {\n              localStorage.setItem('mahoan', JSON.stringify(items.data[0]));\n              window.location.reload();\n            }\n          }\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    _this.hamngoai = function () {\n      return _this.state.datas[_this.state.datas.length - 1];\n    };\n\n    _this.Haller = function () {\n      if (_this.state.image_url === \"\" && _this.state.dataBase64 === \"\") {\n        _this.props.ThuchienthaydoitrangthaiA();\n\n        _this.props.ThuchienlaydulieuA(\"Bạn chưa gán giá trị gì\");\n      } else {\n        _this.functionThucThi();\n      }\n    };\n\n    _this.ButtonsClean = function () {\n      if (window.confirm('Bạn muốn thực hiện quy trình tải dữ liệu lên [YES]')) {\n        _this.props.ThuchienthaydoitrangthaiA();\n\n        _this.props.ThuchienlaydulieuA(\"tiến trình  update \" + _this.state.data.name + \" thành công\");\n\n        _this.props.ThucHIenGetData(_this.state.data);\n      }\n    };\n\n    _this.ButtonsClean2 = function () {\n      if (window.confirm('Bạn muốn thực hiện quy trình làm sạch dữ liệu nền [YES]')) {\n        _this.props.ThuchienthaydoitrangthaiA();\n\n        _this.props.ThuchienlaydulieuA(\"tiến trình  thành công \");\n\n        setTimeout(function () {\n          window.location.reload();\n          localStorage.removeItem('mahoan');\n        }, 3000);\n      }\n    };\n\n    _this.thongBao = function () {\n      _this.props.ThuchienthaydoitrangthaiA();\n\n      var noidung = _this.state.changeGiayTo;\n\n      if (noidung === \"/vision/idr/vnm\") {\n        return _this.props.ThuchienlaydulieuA(\"Bạn đã lựa chọn chứng minh nhân dân và căn cước công dân\");\n      } else if (noidung === \"/vision/dlr/vnm\") {\n        return _this.props.ThuchienlaydulieuA(\"Bạn đã lựa chọn giấy phép lái xe\");\n      } else if (noidung === \"/vision/passport/vnm\") {\n        return _this.props.ThuchienlaydulieuA(\"bạn đã chọn hộ chiếu\");\n      }\n    };\n\n    _this.chupAnhWebCam = function () {\n      _this.props.ThuchienthaydoitrangthaiA();\n\n      if (_this.state.dataBase64) {\n        return _this.props.ThuchienlaydulieuA(\"Chụp ảnh thành công\");\n      } else {\n        return _this.props.ThuchienlaydulieuA(\"bạn chưa chụp gì yêu cầu chụp để bắt đầu tiến trình\");\n      }\n    };\n\n    _this.state = {\n      image_url: '',\n      data: '',\n      changeGiayTo: '',\n      dataBase64: \"\",\n      imageURL: 'https://photo-1-baomoi.zadn.vn/w1000_r1/2019_03_08_329_29908869/166fe5160256eb08b247.jpg',\n      fullDesc: null,\n      detections: null,\n      descriptors: null,\n      match: null,\n      faceMatcher: null,\n      datas: [process.env.REACT_APP_API_KEY]\n    };\n    return _this;\n  }\n\n  _createClass(FormText, [{\n    key: \"componentWillMount\",\n    // WARNING! To be deprecated in React v17. Use componentDidMount instead.\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      firebasethree.on('value', function (datas) {\n        var Mang = [];\n        datas.forEach(function (element) {\n          var data = element.val();\n          Mang.push(data);\n        });\n\n        _this2.setState({\n          datas: Mang\n        });\n      });\n\n      if (localStorage.getItem('mahoan') === null) {\n        localStorage.setItem('mahoan', JSON.stringify(mahoan));\n      } else {\n        var template = JSON.parse(localStorage.getItem('mahoan'));\n        this.setState({\n          data: template\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (localStorage.getItem('mahoan') === null) {\n        localStorage.setItem('mahoan', JSON.stringify(mahoan));\n      } else {\n        var template = JSON.parse(localStorage.getItem('mahoan'));\n        this.setState({\n          data: template\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"thaydoitinha\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group mb-3 mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        onChange: function onChange(event) {\n          return _this3.isChange(event);\n        },\n        placeholder: \"import link images\",\n        name: \"image_url\",\n        \"aria-label\": \"Recipient's username\",\n        \"aria-describedby\": \"basic-addon2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"input-group-text\",\n        id: \"basic-addon2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \".JPG/.JPEG/.PNG\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-success\",\n        onClick: function onClick() {\n          return _this3.Haller();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-archway\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-info\",\n        onClick: function onClick() {\n          return _this3.ButtonsClean();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-cloud-upload-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-warning\",\n        onClick: function onClick() {\n          return _this3.ButtonsClean2();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-eraser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#exampleModalCenter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-cogs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-dark\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#exampleModalCenter2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-video\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"exampleModalCenter\",\n        tabIndex: -1,\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalCenterTitle\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog modal-dialog-centered\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        id: \"exampleModalLongTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"L\\u1EF1a ch\\u1ECDn gi\\u1EA5y t\\u1EDD ph\\xF9 h\\u1EE3p\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        className: \"form-control form-control-sm\",\n        onChange: function onChange(event) {\n          return _this3.isChange2(event);\n        },\n        name: \"persion\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, \"Ch\\u1ECDn lo\\u1EA1i gi\\u1EA5y t\\u1EDD\"), React.createElement(\"option\", {\n        value: \"/vision/idr/vnm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Ch\\u1EE9ng minh nh\\xE2n d\\xE2n v\\xE0 c\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\"), React.createElement(\"option\", {\n        value: \"/vision/dlr/vnm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Gi\\u1EA5y ph\\xE9p l\\xE1i xe\"), React.createElement(\"option\", {\n        value: \"/vision/passport/vnm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"H\\u1ED9 chi\\u1EBFu\")))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, this.state.changeGiayTo && React.createElement(\"div\", {\n        className: \"alert alert-primary\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"Gi\\u1EA5y t\\u1EDD c\\xE1 nh\\xE2n : \", React.createElement(\"a\", {\n        href: \"/\",\n        className: \"alert-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, this.state.changeGiayTo)))), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        \"data-dismiss\": \"modal\",\n        onClick: function onClick() {\n          return _this3.thongBao();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \"Save change\"))))), React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"exampleModalCenter2\",\n        tabIndex: -1,\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalCenterTitle\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog modal-dialog-centered\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        style: {\n          width: '800px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        id: \"exampleModalLongTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Camera HD\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(Camera, {\n        onTakePhoto: function onTakePhoto(dataUri) {\n          _this3.handleTakePhoto(dataUri);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }, this.state.dataBase64 && React.createElement(\"div\", {\n        className: \"alert alert-primary\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"pre\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"D\\u1EEF li\\u1EC7u m\\xE3 h\\xF3a : \", React.createElement(\"a\", {\n        href: \"/\",\n        className: \"alert-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, this.state.dataBase64))))), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary\",\n        \"data-dismiss\": \"modal\",\n        onClick: function onClick() {\n          return _this3.chupAnhWebCam();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }, \"Save change\")))))), React.createElement(KOKOBAY, {\n        dulieushh: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return FormText;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    GetData: state.laydata\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, ownProps) {\n  return {\n    ThucHIenGetData: function ThucHIenGetData(getitem) {\n      dispatch({\n        type: 'LAY_DATA',\n        getitem: getitem\n      });\n    },\n    ThuchienthaydoitrangthaiA: function ThuchienthaydoitrangthaiA() {\n      dispatch({\n        type: 'TRANG_THAI'\n      });\n    },\n    ThuchienlaydulieuA: function ThuchienlaydulieuA(getitem) {\n      dispatch({\n        type: 'GETDATA',\n        getitem: getitem\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormText);","map":{"version":3,"sources":["E:/NODE_JS/DM/KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB/src/components/FormText.js"],"names":["React","Component","Camera","request","KOKOBAY","mahoan","firebasethree","connect","loadModels","getFullFaceDescription","createMatcher","JSON_PROFILE","require","FormText","props","isChange","event","value","target","setState","image_url","data","console","log","handleTakePhoto","dataUri","aes256","key","canMaHoa","maHoa","encrypt","giaima","decrypt","dataBase64","slice","isChange2","changeGiayTo","functionThucThi","info","state","post","set","hamngoai","send","image_base64","face","end","err","res","alert","items","JSON","parse","text","body","errorCode","localStorage","setItem","stringify","window","location","reload","error","datas","length","Haller","ThuchienthaydoitrangthaiA","ThuchienlaydulieuA","ButtonsClean","confirm","name","ThucHIenGetData","ButtonsClean2","setTimeout","removeItem","thongBao","noidung","chupAnhWebCam","imageURL","fullDesc","detections","descriptors","match","faceMatcher","process","env","REACT_APP_API_KEY","on","Mang","forEach","element","val","push","getItem","template","width","mapStateToProps","ownProps","GetData","laydata","mapDispatchToProps","dispatch","getitem","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Camera from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\nimport request from 'superagent';\nimport KOKOBAY from './item';\nimport mahoan from './mahoan.json';\nimport {firebasethree} from '../firebaseconnectio';\nimport {connect} from 'react-redux';\nimport { loadModels, getFullFaceDescription, createMatcher } from '../api/face';\n// Import image to test API\n// Import face profile\nconst JSON_PROFILE = require('../descriptors/bnk48.json');\nclass FormText extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            image_url : '',\n\t\t\t\t\t\tdata : '',\n\t\t\t\t\t\tchangeGiayTo : '',\n\t\t\t\t\t\tdataBase64 : \"\",\n\t\t\t\t\t\timageURL: 'https://photo-1-baomoi.zadn.vn/w1000_r1/2019_03_08_329_29908869/166fe5160256eb08b247.jpg',\n\t\t\t\t\t\tfullDesc: null,\n\t\t\t\t\t\tdetections: null,\n\t\t\t\t\t\tdescriptors: null,\n\t\t\t\t\t\tmatch: null,\n\t\t\t\t\t\t faceMatcher: null,\n\t\t\t\t\t\tdatas : [process.env.REACT_APP_API_KEY]\n        };\n\t\t}\n    isChange = (event) => {\n        const value = event.target.value;\n        this.setState({\n            image_url : event.target.value,\n            data : event.target.value,\n        })\n        console.log(value);\n        \n\t\t}\n\n\t\thandleTakePhoto = (dataUri) => {\n\t\t\tconsole.log('takePhoto' + dataUri);\n      let aes256 = require('aes256');\n      let key = 'tuanphan';\n      let canMaHoa = dataUri;\n      let maHoa = aes256.encrypt(key , canMaHoa);\n      if(maHoa)\n      {\n        let giaima = aes256.decrypt(key , maHoa)\n        this.setState({\n          dataBase64 : giaima.slice(22)\n        });\n      }\n      console.log(maHoa);\n    }\n    \n\n\n\t\tisChange2 = (event) => {\n\t\t\tconst value = event.target.value;\n\t\t\tthis.setState({\n\t\t\t\tchangeGiayTo : value\n\t\t\t})\n\t\t\tconsole.log(value);\n\t\t}\n\n\n\t\tfunctionThucThi = () => {\n\t\t\ttry\n\t\t\t{\n\t\t\t\tvar info = {};\n\t\t\t\tinfo.image_url = this.state.image_url;\n\t\t\t\trequest\n\t\t\t\t.post(this.state.changeGiayTo)\n\t\t\t\t.set('Content-Type', 'application/x-www-form-urlencoded')\n\t\t\t\t.set('api_key',this.hamngoai())\n\t\t\t\t.send({image_base64: this.state.dataBase64})\n\t\t\t\t.send({image_url: this.state.image_url})\n\t\t\t\t.send({face:1})\n\t\t\t\t.end(function(err, res){\n\t\t\t\tif(err)\n\t\t\t\t{\n\t\t\t\t\t\talert(\"ban hết hạn số lượt gọi\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t\tvar items = JSON.parse(res.text);\n\t\t\t\t\t\tif(res.body.errorCode === 3)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('hệ thống không tìm thấy CMT trong ảnh hoặc ảnh có chất lượng kém (quá mờ, quá tối/sáng).');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('Sai thông số trong request (ví dụ không có key hoặc ảnh trong request body).');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 2)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('CMT trong ảnh bị thiếu góc nên không thể crop về dạng chuẩn.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 5)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert(' Request sử dụng key image_url nhưng giá trị bỏ trống.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 6)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('Request sử dụng key image_url nhưng hệ thống không thể mở được URL này.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 7)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('File gửi lên không phải là file ảnh.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 8)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert(' File ảnh gửi lên bị hỏng hoặc format không được hỗ trợ.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 9)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert(' Request sử dụng key image_base64 nhưng giá trị bỏ trống.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (res.body.errorCode === 10)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\talert('Request sử dụng key image_base64 nhưng string cung cấp không hợp lệ.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlocalStorage.setItem('mahoan',JSON.stringify(items.data[0]));\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t});\n\t\t\t}catch(error)\n\t\t\t{\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t}\n\n\t\t\n\t\thamngoai = () => {\n\t\t\treturn( this.state.datas[this.state.datas.length - 1]);\n\t\t}\n    Haller = () => {\n\t\t\t\tif(this.state.image_url=== \"\" && this.state.dataBase64 === \"\")\n\t\t\t\t{\n\t\t\t\t\tthis.props.ThuchienthaydoitrangthaiA();\n\t\t\t\t\tthis.props.ThuchienlaydulieuA(\"Bạn chưa gán giá trị gì\");\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.functionThucThi();\n\t\t\t\t}\n    }\n   // WARNING! To be deprecated in React v17. Use componentDidMount instead.\n    componentWillMount() {\n\t\t\t\tfirebasethree.on('value',(datas) => {\n\t\t\t\t\tvar Mang = [];\n\t\t\t\t\tdatas.forEach(element => {\n\t\t\t\t\t\t\tconst data = element.val();\n\t\t\t\t\t\t\tMang.push(data)\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdatas : Mang\n\t\t\t\t\t});\n\t\t\t\t})\t\n        if(localStorage.getItem('mahoan') === null)\n        {\n            localStorage.setItem('mahoan',JSON.stringify(mahoan));\n        }\n        else\n        {\n            var template = JSON.parse(localStorage.getItem('mahoan'));\n            this.setState({\n                data : template\n            })\n\t\t\t\t}\n\t\t\t\t\n        \n    }\n    componentDidMount() {\n        if(localStorage.getItem('mahoan') === null)\n        {\n            localStorage.setItem('mahoan',JSON.stringify(mahoan));\n        }\n        else\n        {\n            var template = JSON.parse(localStorage.getItem('mahoan'));\n            this.setState({\n                data : template\n            })\n          \n        }\n    }\n    ButtonsClean = () => {\n        if(window.confirm('Bạn muốn thực hiện quy trình tải dữ liệu lên [YES]'))\n        {\n            this.props.ThuchienthaydoitrangthaiA();\n            this.props.ThuchienlaydulieuA(\"tiến trình  update \" + this.state.data.name + \" thành công\");\n            this.props.ThucHIenGetData(this.state.data);  \n        }\n    }\n    ButtonsClean2 = () => {\n        if(window.confirm('Bạn muốn thực hiện quy trình làm sạch dữ liệu nền [YES]'))\n        {\n            this.props.ThuchienthaydoitrangthaiA();\n            this.props.ThuchienlaydulieuA(\"tiến trình  thành công \");\n            setTimeout(function(){\n                window.location.reload();\n                localStorage.removeItem('mahoan');\n            }, 3000);   \n        }\n    }\n    thongBao = () => {\n      this.props.ThuchienthaydoitrangthaiA();\n      let noidung = this.state.changeGiayTo;\n      if(noidung === \"/vision/idr/vnm\")\n      {\n       return this.props.ThuchienlaydulieuA(\"Bạn đã lựa chọn chứng minh nhân dân và căn cước công dân\");\n      }\n      else if(noidung === \"/vision/dlr/vnm\")\n      {\n        return this.props.ThuchienlaydulieuA(\"Bạn đã lựa chọn giấy phép lái xe\");\n      }\n      else if(noidung === \"/vision/passport/vnm\")\n      {\n        return this.props.ThuchienlaydulieuA(\"bạn đã chọn hộ chiếu\");\n      }\n    }\n    chupAnhWebCam = () => {\n      this.props.ThuchienthaydoitrangthaiA();\n      if(this.state.dataBase64)\n      {\n       return this.props.ThuchienlaydulieuA(\"Chụp ảnh thành công\");\n      }\n      else\n      {\n      return   this.props.ThuchienlaydulieuA(\"bạn chưa chụp gì yêu cầu chụp để bắt đầu tiến trình\");\n      }\n\n    }\n    render() {\n        return (\n            <div className=\"thaydoitinha\">\n\t\t\t\t\t\t\t\t\n                  <div className=\"input-group mb-3 mt-5\">\n\t\t\t\t\t\t\t\t\t\t\n                    <input type=\"text\" className=\"form-control\" onChange={(event)=>this.isChange(event)}  placeholder=\"import link images\" name=\"image_url\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\" />\n                    <div className=\"input-group-append\">\n                    <span className=\"input-group-text\" id=\"basic-addon2\">.JPG/.JPEG/.PNG</span>\n                    <button type=\"button\" className=\"btn btn-success\" onClick={()=>this.Haller()}><i className=\"fas fa-archway\"></i></button>\n                    <button type=\"button\" className=\"btn btn-info\" onClick={()=>this.ButtonsClean()}><i className=\"fas fa-cloud-upload-alt\"></i></button>\n                    <button type=\"button\" className=\"btn btn-warning\" onClick={()=>this.ButtonsClean2()}><i className=\"fas fa-eraser\"></i></button>\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModalCenter\"><i className=\"fas fa-cogs\"></i></button>\n\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-dark\" data-toggle=\"modal\" data-target=\"#exampleModalCenter2\"><i className=\"fas fa-video\"></i></button>\n                    </div>\n\n\n\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"exampleModalCenter\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">Lựa chọn giấy tờ phù hợp</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">×</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\">\n\n                <div className=\"form-row\">\n            <div className=\"form-group col-md-12\">\n            \n                  <select className=\"form-control form-control-sm\" onChange={(event)=>this.isChange2(event)} name=\"persion\">\n                          <option value>Chọn loại giấy tờ</option>\n                          <option value={\"/vision/idr/vnm\"}>Chứng minh nhân dân và căn cước công dân</option>\n                          <option value={\"/vision/dlr/vnm\"}>Giấy phép lái xe</option>\n                          <option value={\"/vision/passport/vnm\"}>Hộ chiếu</option>\n                  </select>\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n              \n\t\t\t\t\t\t\t{\n                this.state.changeGiayTo && <div className=\"alert alert-primary\" role=\"alert\">\n                    Giấy tờ cá nhân : <a href=\"/\" className=\"alert-link\">{this.state.changeGiayTo}</a>\n                </div>\n              }\n              \n          </div>\n                \n                </div>\n                <div className=\"modal-footer\">\n                  <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={()=>this.thongBao()}>Save change</button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\t\t\t\t\t<div className=\"modal fade\" id=\"exampleModalCenter2\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalCenterTitle\" aria-hidden=\"true\">\n            <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n              <div className=\"modal-content\"  style={{width: '800px'}}>\n                <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"exampleModalLongTitle\">Camera HD</h5>\n                  <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">×</span>\n                  </button>\n                </div>\n                <div className=\"modal-body\">\n\n                <div className=\"form-row\">\n            <div className=\"form-group col-md-12\">\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\t\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Camera  onTakePhoto = { (dataUri) => {this.handleTakePhoto(dataUri); } }/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n              \n\t\t\t\t\t\t\t{\n                this.state.dataBase64 && <div className=\"alert alert-primary\" role=\"alert\">\n                  <pre>\n\t\t\t\t\t\t\t\t\tDữ liệu mã hóa : <a href=\"/\" className=\"alert-link\">{this.state.dataBase64}</a>\n\t\t\t\t\t\t\t\t\t</pre>\n                </div>\n              }\n              \n          </div>\n                \n                </div>\n                <div className=\"modal-footer\">\n                  <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={()=>this.chupAnhWebCam()}>Save change</button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\t\t\t\t\t\t\n                </div>\n                <KOKOBAY dulieushh={this.state.data}/>\n            </div>\n        );\n    }\n}\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        GetData: state.laydata\n    }\n}\nconst mapDispatchToProps = (dispatch, ownProps) => {\n    return {\n        ThucHIenGetData: (getitem) => {\n            dispatch({type:'LAY_DATA',getitem})\n        },\n        ThuchienthaydoitrangthaiA: () => {\n            dispatch({type:'TRANG_THAI'})\n        },\n        ThuchienlaydulieuA: (getitem) => {\n            dispatch({type:'GETDATA',getitem})\n        }\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(FormText);"]},"metadata":{},"sourceType":"module"}