{"ast":null,"code":"var _jsxFileName = \"e:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\src\\\\components\\\\FormText.js\";\nimport React, { Component } from 'react';\nimport request from 'superagent';\nimport KOKOBAY from './item';\nimport mahoan from './mahoan.json';\nimport { firebasethree } from '../firebaseconnectio';\nimport { connect } from 'react-redux';\n\nclass FormText extends Component {\n  constructor(props) {\n    super(props);\n\n    this.isChange = event => {\n      const value = event.target.value;\n      this.setState({\n        image_url: event.target.value,\n        data: event.target.value\n      });\n      console.log(value);\n    };\n\n    this.hamngoai = () => {\n      return this.state.datas[this.state.datas.length - 1];\n    };\n\n    this.Haller = () => {\n      if (this.state.image_url === \"\") {\n        alert('Yêu cầu bạn nhập thông tin');\n      } else {\n        var info = {};\n        info.image_url = this.state.image_url;\n        request.post('https://api.openfpt.vn/cmt').set('Content-Type', 'application/x-www-form-urlencoded').set('api_key', this.hamngoai()).send({\n          image_url: this.state.image_url\n        }).send({\n          face: 1\n        }).end(function (err, res) {\n          if (err) {\n            alert(\"ban hết hạn số lượt gọi\");\n          } else {\n            var items = JSON.parse(res.text);\n\n            if (res.body.errorCode === 3) {\n              alert('hệ thống không tìm thấy CMT trong ảnh hoặc ảnh có chất lượng kém (quá mờ, quá tối/sáng).');\n            } else if (res.body.errorCode === 1) {\n              alert('Sai thông số trong request (ví dụ không có key hoặc ảnh trong request body).');\n            } else if (res.body.errorCode === 2) {\n              alert('CMT trong ảnh bị thiếu góc nên không thể crop về dạng chuẩn.');\n            } else if (res.body.errorCode === 5) {\n              alert(' Request sử dụng key image_url nhưng giá trị bỏ trống.');\n            } else if (res.body.errorCode === 6) {\n              alert('Request sử dụng key image_url nhưng hệ thống không thể mở được URL này.');\n            } else if (res.body.errorCode === 7) {\n              alert('File gửi lên không phải là file ảnh.');\n            } else if (res.body.errorCode === 8) {\n              alert(' File ảnh gửi lên bị hỏng hoặc format không được hỗ trợ.');\n            } else if (res.body.errorCode === 9) {\n              alert(' Request sử dụng key image_base64 nhưng giá trị bỏ trống.');\n            } else if (res.body.errorCode === 10) {\n              alert('Request sử dụng key image_base64 nhưng string cung cấp không hợp lệ.');\n            } else {\n              localStorage.setItem('mahoan', JSON.stringify(items.data[0]));\n              window.location.reload();\n            }\n          }\n        });\n      }\n    };\n\n    this.ButtonsClean = () => {\n      if (window.confirm('Bạn muốn thực hiện quy trình tải dữ liệu lên [YES]')) {\n        this.props.ThuchienthaydoitrangthaiA();\n        this.props.ThuchienlaydulieuA(\"tiến trình  update \" + this.state.data.name + \" thành công\");\n        this.props.ThucHIenGetData(this.state.data);\n      }\n    };\n\n    this.ButtonsClean2 = () => {\n      if (window.confirm('Bạn muốn thực hiện quy trình làm sạch dữ liệu nền [YES]')) {\n        this.props.ThuchienthaydoitrangthaiA();\n        this.props.ThuchienlaydulieuA(\"tiến trình  thành công \");\n        setTimeout(function () {\n          window.location.reload();\n          localStorage.removeItem('mahoan');\n        }, 3000);\n      }\n    };\n\n    this.state = {\n      image_url: '',\n      data: '',\n      datas: [process.env.REACT_APP_API_KEY]\n    };\n  }\n\n  // WARNING! To be deprecated in React v17. Use componentDidMount instead.\n  componentWillMount() {\n    firebasethree.on('value', datas => {\n      var Mang = [];\n      datas.forEach(element => {\n        const data = element.val();\n        Mang.push(data);\n      });\n      this.setState({\n        datas: Mang\n      });\n    });\n\n    if (localStorage.getItem('mahoan') === null) {\n      localStorage.setItem('mahoan', JSON.stringify(mahoan));\n    } else {\n      var template = JSON.parse(localStorage.getItem('mahoan'));\n      this.setState({\n        data: template\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('mahoan') === null) {\n      localStorage.setItem('mahoan', JSON.stringify(mahoan));\n    } else {\n      var template = JSON.parse(localStorage.getItem('mahoan'));\n      this.setState({\n        data: template\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group mb-3 mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      onChange: event => this.isChange(event),\n      placeholder: \"import link images\",\n      name: \"image_url\",\n      \"aria-label\": \"Recipient's username\",\n      \"aria-describedby\": \"basic-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      id: \"basic-addon2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \".JPG/.JPEG/.PNG\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success\",\n      onClick: () => this.Haller(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-archway\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-info\",\n      onClick: () => this.ButtonsClean(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-cloud-upload-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-warning\",\n      onClick: () => this.ButtonsClean2(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fas fa-eraser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })))), React.createElement(KOKOBAY, {\n      dulieushh: this.state.data,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    GetData: state.laydata\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    ThucHIenGetData: getitem => {\n      dispatch({\n        type: 'LAY_DATA',\n        getitem\n      });\n    },\n    ThuchienthaydoitrangthaiA: () => {\n      dispatch({\n        type: 'TRANG_THAI'\n      });\n    },\n    ThuchienlaydulieuA: getitem => {\n      dispatch({\n        type: 'GETDATA',\n        getitem\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FormText);","map":{"version":3,"sources":["e:\\NODE_JS\\DM\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\src\\components\\FormText.js"],"names":["React","Component","request","KOKOBAY","mahoan","firebasethree","connect","FormText","constructor","props","isChange","event","value","target","setState","image_url","data","console","log","hamngoai","state","datas","length","Haller","alert","info","post","set","send","face","end","err","res","items","JSON","parse","text","body","errorCode","localStorage","setItem","stringify","window","location","reload","ButtonsClean","confirm","ThuchienthaydoitrangthaiA","ThuchienlaydulieuA","name","ThucHIenGetData","ButtonsClean2","setTimeout","removeItem","process","env","REACT_APP_API_KEY","componentWillMount","on","Mang","forEach","element","val","push","getItem","template","componentDidMount","render","mapStateToProps","ownProps","GetData","laydata","mapDispatchToProps","dispatch","getitem","type"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport request from 'superagent';\r\nimport KOKOBAY from './item';\r\nimport mahoan from './mahoan.json';\r\nimport {firebasethree} from '../firebaseconnectio';\r\nimport {connect} from 'react-redux';\r\nclass FormText extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            image_url : '',\r\n\t\t\t\t\t\tdata : '',\r\n\t\t\t\t\t\tdatas : [process.env.REACT_APP_API_KEY]\r\n        };\r\n\t\t}\r\n    isChange = (event) => {\r\n        const value = event.target.value;\r\n        this.setState({\r\n            image_url : event.target.value,\r\n            data : event.target.value,\r\n        })\r\n        console.log(value);\r\n        \r\n\t\t}\r\n\t\t\r\n\t\thamngoai = () => {\r\n\t\t\treturn( this.state.datas[this.state.datas.length - 1]);\r\n\t\t}\r\n    Haller = () => {\r\n        if(this.state.image_url === \"\")\r\n        {\r\n          alert('Yêu cầu bạn nhập thông tin');\r\n        }\r\n        else\r\n        {\r\n          var info = {};\r\n          info.image_url = this.state.image_url;\r\n          request\r\n          .post('https://api.openfpt.vn/cmt')\r\n          .set('Content-Type', 'application/x-www-form-urlencoded')\r\n          .set('api_key',this.hamngoai())\r\n          .send({image_url: this.state.image_url})\r\n          .send({face:1})\r\n          .end(function(err, res){\r\n          if(err)\r\n          {\r\n              alert(\"ban hết hạn số lượt gọi\");\r\n          }\r\n          else\r\n          {\r\n              var items = JSON.parse(res.text);\r\n              if(res.body.errorCode === 3)\r\n              {\r\n                  alert('hệ thống không tìm thấy CMT trong ảnh hoặc ảnh có chất lượng kém (quá mờ, quá tối/sáng).');\r\n              }\r\n              else if (res.body.errorCode === 1)\r\n              {\r\n                  alert('Sai thông số trong request (ví dụ không có key hoặc ảnh trong request body).');\r\n              }\r\n              else if (res.body.errorCode === 2)\r\n              {\r\n                  alert('CMT trong ảnh bị thiếu góc nên không thể crop về dạng chuẩn.');\r\n              }\r\n              else if (res.body.errorCode === 5)\r\n              {\r\n                  alert(' Request sử dụng key image_url nhưng giá trị bỏ trống.');\r\n              }\r\n              else if (res.body.errorCode === 6)\r\n              {\r\n                  alert('Request sử dụng key image_url nhưng hệ thống không thể mở được URL này.');\r\n              }\r\n              else if (res.body.errorCode === 7)\r\n              {\r\n                  alert('File gửi lên không phải là file ảnh.');\r\n              }\r\n              else if (res.body.errorCode === 8)\r\n              {\r\n                  alert(' File ảnh gửi lên bị hỏng hoặc format không được hỗ trợ.');\r\n              }\r\n              else if (res.body.errorCode === 9)\r\n              {\r\n                  alert(' Request sử dụng key image_base64 nhưng giá trị bỏ trống.');\r\n              }\r\n              else if (res.body.errorCode === 10)\r\n              {\r\n                  alert('Request sử dụng key image_base64 nhưng string cung cấp không hợp lệ.');\r\n              }\r\n              else\r\n              {\r\n                localStorage.setItem('mahoan',JSON.stringify(items.data[0]));\r\n                window.location.reload();\r\n              \r\n              }\r\n          }\r\n          });\r\n        }\r\n        \r\n    }\r\n   // WARNING! To be deprecated in React v17. Use componentDidMount instead.\r\n    componentWillMount() {\r\n\t\t\t\tfirebasethree.on('value',(datas) => {\r\n\t\t\t\t\tvar Mang = [];\r\n\t\t\t\t\tdatas.forEach(element => {\r\n\t\t\t\t\t\t\tconst data = element.val();\r\n\t\t\t\t\t\t\tMang.push(data)\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tdatas : Mang\r\n\t\t\t\t\t});\r\n\t\t\t\t})\t\r\n        if(localStorage.getItem('mahoan') === null)\r\n        {\r\n            localStorage.setItem('mahoan',JSON.stringify(mahoan));\r\n        }\r\n        else\r\n        {\r\n            var template = JSON.parse(localStorage.getItem('mahoan'));\r\n            this.setState({\r\n                data : template\r\n            })\r\n        }\r\n        \r\n    }\r\n    componentDidMount() {\r\n        if(localStorage.getItem('mahoan') === null)\r\n        {\r\n            localStorage.setItem('mahoan',JSON.stringify(mahoan));\r\n        }\r\n        else\r\n        {\r\n            var template = JSON.parse(localStorage.getItem('mahoan'));\r\n            this.setState({\r\n                data : template\r\n            })\r\n          \r\n        }\r\n    }\r\n    ButtonsClean = () => {\r\n        if(window.confirm('Bạn muốn thực hiện quy trình tải dữ liệu lên [YES]'))\r\n        {\r\n            this.props.ThuchienthaydoitrangthaiA();\r\n            this.props.ThuchienlaydulieuA(\"tiến trình  update \" + this.state.data.name + \" thành công\");\r\n            this.props.ThucHIenGetData(this.state.data);  \r\n        }\r\n    }\r\n    ButtonsClean2 = () => {\r\n        if(window.confirm('Bạn muốn thực hiện quy trình làm sạch dữ liệu nền [YES]'))\r\n        {\r\n            this.props.ThuchienthaydoitrangthaiA();\r\n            this.props.ThuchienlaydulieuA(\"tiến trình  thành công \");\r\n            setTimeout(function(){\r\n                window.location.reload();\r\n                localStorage.removeItem('mahoan');\r\n            }, 3000);   \r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                  <div className=\"input-group mb-3 mt-5\">\r\n                    <input type=\"text\" className=\"form-control\" onChange={(event)=>this.isChange(event)}  placeholder=\"import link images\" name=\"image_url\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\" />\r\n                    <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon2\">.JPG/.JPEG/.PNG</span>\r\n                    <button type=\"button\" className=\"btn btn-success\" onClick={()=>this.Haller()}><i className=\"fas fa-archway\"></i></button>\r\n                    <button type=\"button\" className=\"btn btn-info\" onClick={()=>this.ButtonsClean()}><i className=\"fas fa-cloud-upload-alt\"></i></button>\r\n                    <button type=\"button\" className=\"btn btn-warning\" onClick={()=>this.ButtonsClean2()}><i className=\"fas fa-eraser\"></i></button>\r\n                    </div>\r\n                </div>\r\n                <KOKOBAY dulieushh={this.state.data}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        GetData: state.laydata\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        ThucHIenGetData: (getitem) => {\r\n            dispatch({type:'LAY_DATA',getitem})\r\n        },\r\n        ThuchienthaydoitrangthaiA: () => {\r\n            dispatch({type:'TRANG_THAI'})\r\n        },\r\n        ThuchienlaydulieuA: (getitem) => {\r\n            dispatch({type:'GETDATA',getitem})\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormText);"]},"metadata":{},"sourceType":"module"}