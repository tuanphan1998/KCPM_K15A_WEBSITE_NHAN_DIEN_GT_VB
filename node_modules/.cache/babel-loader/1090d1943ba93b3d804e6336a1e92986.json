{"ast":null,"code":"import _objectSpread from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\src\\\\components\\\\item.js\";\nimport React, { Component } from 'react';\nimport { loadModels, getFullFaceDescription, createMatcher } from '../api/face'; // Import image to test API\n\nvar testImg = JSON.stringify(this.props.dulieushh.face); // Import face profile\n\nvar JSON_PROFILE = require('../descriptors/bnk48.json'); // Initial State\n\n\nvar INIT_STATE = {\n  imageURL: testImg,\n  fullDesc: null,\n  detections: null,\n  descriptors: null,\n  match: null\n};\n\nvar item =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(item, _Component);\n\n  function item(props) {\n    var _this;\n\n    _classCallCheck(this, item);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(item).call(this, props));\n\n    _this.showconten = function () {\n      if (_this.props.dulieushh.nationality === \"N/A\") {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh \\u0111\\u1EA7u v\\xE0o : ch\\u1EE9ng minh nh\\xE2n d\\xE2n (Lo\\u1EA1i c\\u0169) \");\n      } else if (_this.props.dulieushh.nationality === undefined) {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh \\u0111\\u1EA7u v\\xE0o : ch\\u1EE9ng minh nh\\xE2n d\\xE2n (Lo\\u1EA1i m\\u1EDBi) \");\n      } else {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh \\u0111\\u1EA7u v\\xE0o :  C\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\");\n      }\n    };\n\n    _this.phongdoangioitinh = function () {\n      if (_this.props.dulieushh.sex === \"N/A\") {\n        return \"dang xay dung\";\n      } else {\n        return _this.props.dulieushh.sex;\n      }\n    };\n\n    _this.componentWillMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return loadModels();\n\n            case 2:\n              _context.t0 = _this;\n              _context.next = 5;\n              return createMatcher(JSON_PROFILE);\n\n            case 5:\n              _context.t1 = _context.sent;\n              _context.t2 = {\n                faceMatcher: _context.t1\n              };\n\n              _context.t0.setState.call(_context.t0, _context.t2);\n\n              _context.next = 10;\n              return _this.handleImage(_this.state.imageURL);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.handleImage =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var image,\n          match,\n          _args2 = arguments;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              image = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : _this.state.imageURL;\n              _context2.next = 3;\n              return getFullFaceDescription(image).then(function (fullDesc) {\n                if (!!fullDesc) {\n                  _this.setState({\n                    fullDesc: fullDesc,\n                    detections: fullDesc.map(function (fd) {\n                      return fd.detection;\n                    }),\n                    descriptors: fullDesc.map(function (fd) {\n                      return fd.descriptor;\n                    })\n                  });\n                }\n              });\n\n            case 3:\n              if (!(!!_this.state.descriptors && !!_this.state.faceMatcher)) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 6;\n              return _this.state.descriptors.map(function (descriptor) {\n                return _this.state.faceMatcher.findBestMatch(descriptor);\n              });\n\n            case 6:\n              match = _context2.sent;\n\n              _this.setState({\n                match: match\n              });\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    _this.handleFileChange =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(event) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this.resetState();\n\n                _context3.next = 3;\n                return _this.setState({\n                  imageURL: URL.createObjectURL(event.target.files[0]),\n                  loading: true\n                });\n\n              case 3:\n                _this.handleImage();\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.resetState = function () {\n      _this.setState(_objectSpread({}, INIT_STATE));\n    };\n\n    _this.state = _objectSpread({\n      data: _this.props.dulieushh,\n      ketquachinhthuc: ''\n    }, INIT_STATE, {\n      faceMatcher: null\n    });\n    return _this;\n  }\n\n  _createClass(item, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          imageURL = _this$state.imageURL,\n          detections = _this$state.detections,\n          match = _this$state.match;\n      var drawBox = null;\n\n      if (!!detections) {\n        drawBox = detections.map(function (detection, i) {\n          var _H = detection.box.height;\n          var _W = detection.box.width;\n          var _X = detection.box._x;\n          var _Y = detection.box._y;\n          return React.createElement(\"div\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: {\n              position: 'absolute',\n              border: 'solid',\n              borderColor: 'blue',\n              height: _H,\n              width: _W,\n              transform: \"translate(\".concat(_X, \"px,\").concat(_Y, \"px)\")\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117\n            },\n            __self: this\n          }, !!match ? React.createElement(\"p\", {\n            style: {\n              backgroundColor: 'blue',\n              border: 'solid',\n              borderColor: 'blue',\n              width: _W,\n              marginTop: 0,\n              color: '#fff',\n              transform: \"translate(-3px,\".concat(_H, \"px)\")\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, match[i]._label) : null));\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, this.showconten(), React.createElement(\"div\", {\n        className: \"card text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, this.props.dulieushh.cropped_idcard && React.createElement(\"img\", {\n        className: \"card-img-top\",\n        width: \"120px\",\n        src: this.props.dulieushh.cropped_idcard,\n        alt: \"demo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), this.props.dulieushh && React.createElement(\"img\", {\n        className: \"card-img-top\",\n        width: \"120px\",\n        src: this.props.dulieushh,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"card-img-top left_manager\",\n        style: {\n          width: '240px',\n          height: '300px',\n          marginRight: '40px'\n        },\n        src: imageURL,\n        alt: \"imageURL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      })), !!drawBox ? drawBox : null), React.createElement(\"div\", {\n        className: \"card-body\",\n        style: {\n          paddingTop: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.props.dulieushh.name && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"T\\xEAn : \", this.props.dulieushh.name), this.props.dulieushh.address && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9 : \", this.props.dulieushh.address), this.props.dulieushh.home && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9 \\u0111\\u0103ng k\\xFD : \", this.props.dulieushh.home), this.props.dulieushh.id && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"S\\u1ED1 cmnd : \", this.props.dulieushh.id), this.props.dulieushh.dob && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Ng\\xE0y sinh : \", this.props.dulieushh.dob), this.props.dulieushh.sex && React.createElement(\"h5\", {\n        className: \"card-title color_mana  mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Gi\\u1EDBi t\\xEDnh : \", this.phongdoangioitinh(), \"     \", this.state.ketquachinhthuc), this.props.dulieushh.doe && React.createElement(\"h5\", {\n        className: \"card-title color_mana\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Ng\\xE0y h\\u1EBFt h\\u1EA1n : \", this.props.dulieushh.doe), this.props.dulieushh.nationality && React.createElement(\"h5\", {\n        className: \"card-title color_mana\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Qu\\u1ED1c t\\u1ECBch : \", this.props.dulieushh.nationality))))));\n    }\n  }]);\n\n  return item;\n}(Component);\n\nexport default item;","map":{"version":3,"sources":["E:/NODE_JS/DM/KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB/src/components/item.js"],"names":["React","Component","loadModels","getFullFaceDescription","createMatcher","testImg","JSON","stringify","props","dulieushh","face","JSON_PROFILE","require","INIT_STATE","imageURL","fullDesc","detections","descriptors","match","item","showconten","nationality","undefined","phongdoangioitinh","sex","componentWillMount","faceMatcher","setState","handleImage","state","image","then","map","fd","detection","descriptor","findBestMatch","handleFileChange","event","resetState","URL","createObjectURL","target","files","loading","data","ketquachinhthuc","drawBox","i","_H","box","height","_W","width","_X","_x","_Y","_y","position","border","borderColor","transform","backgroundColor","marginTop","color","_label","cropped_idcard","marginRight","paddingTop","name","marginBottom","address","home","id","dob","doe"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { loadModels, getFullFaceDescription, createMatcher } from '../api/face';\n\n// Import image to test API\nconst testImg = JSON.stringify( this.props.dulieushh.face)\n\n// Import face profile\nconst JSON_PROFILE = require('../descriptors/bnk48.json');\n\n// Initial State\nconst INIT_STATE = {\n  imageURL: testImg,\n  fullDesc: null,\n  detections: null,\n  descriptors: null,\n  match: null\n};\n\nclass item extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data : this.props.dulieushh,\n            ketquachinhthuc : '',\n            ...INIT_STATE, \n            faceMatcher: null,\n        };\n    }\n    showconten = () => {\n        if(this.props.dulieushh.nationality === \"N/A\")\n        {\n            return (\n                <h4>Hình ảnh đầu vào : chứng minh nhân dân (Loại cũ) </h4>\n                \n            )\n        }\n        else if (this.props.dulieushh.nationality === undefined)\n        {\n            return (\n                <h4>Hình ảnh đầu vào : chứng minh nhân dân (Loại mới) </h4>\n            )\n        }\n        else\n        {\n            return (\n                <h4>Hình ảnh đầu vào :  Căn cước công dân</h4>\n            )\n        }\n    }\n    phongdoangioitinh = () => {\n        if(this.props.dulieushh.sex === \"N/A\")\n        {\n            return(\n                \"dang xay dung\"\n            );\n        }\n        else\n        {\n            return (this.props.dulieushh.sex);\n        }\n    }\n\n\n    componentWillMount = async () => {\n        await loadModels();\n        this.setState({ faceMatcher: await createMatcher(JSON_PROFILE) });\n        await this.handleImage(this.state.imageURL);\n      };\n    \n      handleImage = async (image = this.state.imageURL) => {\n        await getFullFaceDescription(image).then(fullDesc => {\n          if (!!fullDesc) {\n            this.setState({\n              fullDesc,\n              detections: fullDesc.map(fd => fd.detection),\n              descriptors: fullDesc.map(fd => fd.descriptor)\n            });\n          }\n        });\n    \n        if (!!this.state.descriptors && !!this.state.faceMatcher) {\n          let match = await this.state.descriptors.map(descriptor =>\n            this.state.faceMatcher.findBestMatch(descriptor)\n          );\n          this.setState({ match });\n        }\n        \n      };\n    \n      handleFileChange = async event => {\n        this.resetState();\n        await this.setState({\n          imageURL: URL.createObjectURL(event.target.files[0]),\n          loading: true\n        });\n        this.handleImage();\n      };\n    \n      resetState = () => {\n        this.setState({ ...INIT_STATE });\n      };\n\n\n\n    render() {\n        const { imageURL, detections, match } = this.state;\n\n        let drawBox = null;\n        if (!!detections) {\n          drawBox = detections.map((detection, i) => {\n            let _H = detection.box.height;\n            let _W = detection.box.width;\n            let _X = detection.box._x;\n            let _Y = detection.box._y;\n            return (\n              <div key={i}>\n                <div\n                  style={{\n                    position: 'absolute',\n                    border: 'solid',\n                    borderColor: 'blue',\n                    height: _H,\n                    width: _W,\n                    transform: `translate(${_X}px,${_Y}px)`\n                  }}\n                >\n                  {!!match ? (\n                    <p\n                      style={{\n                        backgroundColor: 'blue',\n                        border: 'solid',\n                        borderColor: 'blue',\n                        width: _W,\n                        marginTop: 0,\n                        color: '#fff',\n                        transform: `translate(-3px,${_H}px)`\n                      }}\n                    >\n                      {match[i]._label}\n                    </p>\n                  ) : null}\n                </div>\n              </div>\n            );\n          });\n        }\n        return (\n            <div>\n               \n                <div className=\"col\">\n                        {this.showconten()}\n                        <div className=\"card text-left\">\n                        <div className=\"card-body\">\n                        {this.props.dulieushh.cropped_idcard &&  <img className=\"card-img-top\" width=\"120px\" src={this.props.dulieushh.cropped_idcard} alt=\"demo\" /> }\n                        {this.props.dulieushh &&  <img className=\"card-img-top\" width=\"120px\" src={this.props.dulieushh} alt=\"\" /> }\n                        </div>\n                        <div className=\"card-body\" >\n                        <div style={{ position: 'relative' }}>\n                            <div style={{ position: 'absolute' }}>\n                        \t\t<img className=\"card-img-top left_manager\" style={{width: '240px',height: '300px', marginRight: '40px'}} src={imageURL} alt=\"imageURL\" />\n                            </div>\n                            {!!drawBox ? drawBox : null}\n                        </div>\n                            <div className=\"card-body\" style={{paddingTop: '0px'}}>\n                            {this.props.dulieushh.name && <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Tên : {this.props.dulieushh.name}</h5> }\n                            {this.props.dulieushh.address &&   <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Địa chỉ : {this.props.dulieushh.address}</h5> }\n                            {this.props.dulieushh.home && <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Địa chỉ đăng ký : {this.props.dulieushh.home}</h5>}\n                            {this.props.dulieushh.id &&   <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Số cmnd : {this.props.dulieushh.id}</h5>}\n                            {this.props.dulieushh.dob &&   <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Ngày sinh : {this.props.dulieushh.dob}</h5> }\n                            {this.props.dulieushh.sex &&   <h5 className=\"card-title color_mana  mb-10\" style={{marginBottom: '16px'}}>Giới tính : {this.phongdoangioitinh()}     {this.state.ketquachinhthuc}</h5> }\n                            {this.props.dulieushh.doe &&   <h5 className=\"card-title color_mana\" style={{marginBottom: '16px'}}>Ngày hết hạn : {this.props.dulieushh.doe}</h5> }\n                            {this.props.dulieushh.nationality &&   <h5 className=\"card-title color_mana\" style={{marginBottom: '16px'}}>Quốc tịch : {this.props.dulieushh.nationality}</h5> }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default item;"]},"metadata":{},"sourceType":"module"}