{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\src\\\\components\\\\UserInfo.js\";\nimport React, { Component, Fragment } from \"react\";\nimport Login from \"./Login\";\nimport firebase from \"firebase\";\nimport { firebasefor } from '../firebaseconnectio';\nimport { firebaseApp } from \"../firebaseconnectio\";\nimport DieuHuongUrl from './../router/DieuHuongUrl';\nimport dl from \"../components/Data/DulieuVuaNhap.json\";\nimport MenuFullOprion from \"./MenuFullOprion\";\nimport Countdown from 'react-countdown';\nimport Webcam from 'react-webcam';\nimport { loadModels, getFullFaceDescription, createMatcher } from '../api/face';\n\nvar JSON_PROFILE = require('../descriptors/bnk48.json');\n\nvar WIDTH = 720;\nvar HEIGHT = 420;\nvar inputSize = 160;\n\nvar Completionist = function Completionist() {\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, \"H\\u1EB9n g\\u1EB7p l\\u1EA1i b\\u1EA1n nh\\xE9\");\n};\n\nvar UserInfo =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserInfo, _Component);\n\n  function UserInfo(props) {\n    var _this;\n\n    _classCallCheck(this, UserInfo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserInfo).call(this, props));\n    _this.componentWillMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return loadModels();\n\n            case 2:\n              _context.t0 = _this;\n              _context.next = 5;\n              return createMatcher(JSON_PROFILE);\n\n            case 5:\n              _context.t1 = _context.sent;\n              _context.t2 = {\n                faceMatcher: _context.t1\n              };\n\n              _context.t0.setState.call(_context.t0, _context.t2);\n\n              _this.setInputDevice();\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.setInputDevice = function () {\n      navigator.mediaDevices.enumerateDevices().then(\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(devices) {\n          var inputDevice;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return devices.filter(function (device) {\n                    return device.kind === 'videoinput';\n                  });\n\n                case 2:\n                  inputDevice = _context2.sent;\n\n                  if (!(inputDevice.length < 2)) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  _context2.next = 6;\n                  return _this.setState({\n                    facingMode: 'user'\n                  });\n\n                case 6:\n                  _context2.next = 10;\n                  break;\n\n                case 8:\n                  _context2.next = 10;\n                  return _this.setState({\n                    facingMode: {\n                      exact: 'environment'\n                    }\n                  });\n\n                case 10:\n                  _this.startCapture();\n\n                case 11:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    };\n\n    _this.startCapture = function () {\n      _this.interval = setInterval(function () {\n        _this.capture();\n      }, 1500);\n    };\n\n    _this.capture =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var match;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!_this.webcam.current) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 3;\n              return getFullFaceDescription(_this.webcam.current.getScreenshot(), inputSize).then(function (fullDesc) {\n                if (!!fullDesc) {\n                  _this.setState({\n                    detections: fullDesc.map(function (fd) {\n                      return fd.detection;\n                    }),\n                    descriptors: fullDesc.map(function (fd) {\n                      return fd.descriptor;\n                    })\n                  });\n                }\n              });\n\n            case 3:\n              if (!(!!_this.state.descriptors && !!_this.state.faceMatcher)) {\n                _context3.next = 8;\n                break;\n              }\n\n              _context3.next = 6;\n              return _this.state.descriptors.map(function (descriptor) {\n                return _this.state.faceMatcher.findBestMatch(descriptor);\n              });\n\n            case 6:\n              match = _context3.sent;\n\n              _this.setState({\n                match: match\n              });\n\n            case 8:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    _this.authHandler =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(authData) {\n        var user;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                user = authData.user;\n\n                _this.setState({\n                  email: user.email,\n                  displayName: user.displayName,\n                  photoURL: user.photoURL\n                });\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    _this.authenticate = function (provider) {\n      var authProvider = new firebase.auth[\"\".concat(provider, \"AuthProvider\")]();\n      firebaseApp.auth().signInWithPopup(authProvider).then(_this.authHandler);\n    };\n\n    _this.logout =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return firebase.auth().signOut();\n\n            case 2:\n              _this.setState({\n                email: null,\n                displayName: null,\n                photoURL: null\n              });\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    _this.dangTaiKhoan = function () {\n      if (_this.state.uid === \"IJGMZnvrF8QB2BN7GFNDID91eX93\") {\n        return \"Người điều hành\";\n      } else {\n        return \"người khác\";\n      }\n    };\n\n    _this.trangthaikichhoatQR = function () {\n      var localStore1 = localStorage.getItem(\"komsa\");\n\n      if (localStore1) {\n        return React.createElement(\"small\", {\n          className: \"alert alert-success\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-smile-beam\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172\n          },\n          __self: this\n        }), \" : M\\xE3 QR \\u0111\\u01B0\\u1EE3c qu\\xE9t\");\n      } else {\n        return React.createElement(\"small\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-angry\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }), \" : M\\xE3 QR kh\\xF4ng \\u0111\\u01B0\\u1EE3c qu\\xE9t\");\n      }\n    };\n\n    _this.kiemtraPhuVaGiay = function (i) {\n      if (i < 10) {\n        i = \"0\" + i;\n      }\n\n      ; // add zero in front of numbers < 10\n\n      return i;\n    };\n\n    _this.webcam = React.createRef();\n    _this.state = {\n      email: null,\n      displayName: null,\n      photoURL: null,\n      uid: null,\n      dataBaseQR: [],\n      time: new Date(),\n      fullDesc: null,\n      detections: null,\n      descriptors: null,\n      faceMatcher: null,\n      match: null,\n      facingMode: null\n    };\n    return _this;\n  }\n\n  _createClass(UserInfo, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (localStorage.getItem('komsa') === null) {\n        localStorage.setItem('komsa', JSON.stringify(dl));\n      }\n\n      firebasefor.on('value', function (datas) {\n        var Mang = [];\n        datas.forEach(function (element) {\n          var key = element.key;\n          var queQR = element.val().queQR;\n          var time = element.val().time;\n          var time2 = element.val().time2;\n          var check = element.val().check;\n\n          if (check === \"1\") {\n            Mang.push({\n              key: key,\n              queQR: queQR,\n              time: time,\n              time2: time2\n            });\n          }\n        });\n\n        _this2.setState({\n          dataBaseQR: Mang\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.timerID = setInterval(function () {\n        return _this3.tick();\n      }, 1000);\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this3.authHandler({\n            user: user\n          });\n        }\n\n        _this3.setState({\n          uid: user.uid\n        });\n      });\n    }\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      this.setState({\n        time: new Date()\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var logout = React.createElement(\"button\", {\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Log Out!\");\n\n      if (!this.state.email) {\n        return React.createElement(Login, {\n          authenticate: this.authenticate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        });\n      }\n\n      var ketqua = [];\n      this.state.dataBaseQR.forEach(function (item) {\n        if (item.queQR.indexOf(JSON.parse(localStorage.getItem(\"komsa\"))) !== -1) {\n          ketqua.push(item);\n        }\n      });\n      console.log(this.state.match);\n      var _this$state = this.state,\n          detections = _this$state.detections,\n          match = _this$state.match,\n          facingMode = _this$state.facingMode;\n      var videoConstraints = null;\n      var camera = '';\n\n      if (!!facingMode) {\n        videoConstraints = {\n          width: WIDTH,\n          height: HEIGHT,\n          facingMode: facingMode\n        };\n\n        if (facingMode === 'user') {\n          camera = 'Front';\n        } else {\n          camera = 'Back';\n        }\n      }\n\n      var drawBox = null;\n\n      if (!!detections) {\n        drawBox = detections.map(function (detection, i) {\n          var _H = detection.box.height;\n          var _W = detection.box.width;\n          var _X = detection.box._x;\n          var _Y = detection.box._y;\n          return React.createElement(\"div\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            style: {\n              position: 'absolute',\n              border: 'solid',\n              borderColor: 'blue',\n              height: _H,\n              width: _W,\n              transform: \"translate(\".concat(_X, \"px,\").concat(_Y, \"px)\")\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 236\n            },\n            __self: this\n          }, !!match && !!match[i] ? React.createElement(\"p\", {\n            style: {\n              backgroundColor: 'blue',\n              border: 'solid',\n              borderColor: 'blue',\n              width: _W,\n              marginTop: 0,\n              color: '#fff',\n              transform: \"translate(-3px,\".concat(_H, \"px)\")\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 247\n            },\n            __self: this\n          }, match[i]._label) : null));\n        });\n      }\n\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        className: \"navbar navbar-expand navbar-dark bg-dark static-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"navbar-brand mr-1 fontssss\",\n        href: \"index.html\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"https://www.upsieutoc.com/images/2020/02/12/pngfuel.com.png\",\n        className: \"anhdaidien\",\n        alt: \"iconImage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), \"One world one dream\"), React.createElement(\"form\", {\n        className: \"d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(\"ul\", {\n        className: \"navbar-nav ml-auto ml-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item dropdown no-arrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"nav-link dropdown-toggle\",\n        href: \"/\",\n        id: \"userDropdown\",\n        role: \"button\",\n        \"data-toggle\": \"dropdown\",\n        \"aria-haspopup\": \"true\",\n        \"aria-expanded\": \"false\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        className: \"alert alert-dark\",\n        role: \"alert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-sign-out-alt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }), \":\\xA0\", React.createElement(Countdown, {\n        date: Date.now() + 57000,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(Completionist, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      })), \"\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"i\", {\n        className: \"far fa-user-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }), \" :\\xA0\", this.dangTaiKhoan(), \"\\xA0\\xA0\\xA0\\xA0\", React.createElement(\"i\", {\n        className: \"fas fa-clock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }), \" :\\xA0\", this.state.time.toLocaleTimeString(), \"\\xA0\\xA0\\xA0\\xA0\"), this.trangthaikichhoatQR(), React.createElement(\"img\", {\n        src: this.state.photoURL,\n        alt: \"logo\",\n        style: {\n          width: '40px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"dropdown-menu dropdown-menu-right\",\n        \"aria-labelledby\": \"userDropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"dropdown-item\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, this.state.displayName)), React.createElement(\"a\", {\n        className: \"dropdown-item\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, \" \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, this.state.email)), React.createElement(\"div\", {\n        className: \"dropdown-divider\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        className: \"dropdown-item\",\n        href: \"/\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#logoutModal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"\\u0110\\u0103ng xu\\u1EA5t\"))))), React.createElement(\"div\", {\n        id: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, React.createElement(MenuFullOprion, {\n        Phanquen: ketqua,\n        mauuidgit: this.state.uid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        id: \"content-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, React.createElement(DieuHuongUrl, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }), React.createElement(\"footer\", {\n        className: \"sticky-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container my-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"copyright text-center my-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Copyright \\xA9 Your Website 2019\")))))), React.createElement(\"a\", {\n        className: \"scroll-to-top rounded\",\n        href: \"#page-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-angle-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"logoutModal\",\n        tabIndex: -1,\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalLabel\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"modal-title\",\n        id: \"exampleModalLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, \"B\\u1EA1n c\\xF3 mu\\u1ED1n \\u0111\\u0103ng xu\\u1EA5t kh\\xF4ng?\"), React.createElement(\"button\", {\n        className: \"close\",\n        type: \"button\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \"\\xD7\"))), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, \"N\\u1EBFu \\u0111\\u1ED3ng l\\xFD h\\xE3y ch\\u1ECDn Logout n\\u1EBFu kh\\xF4ng \\u0111\\u1ED3ng \\xFD h\\xE3y ch\\u1ECDn Cancel\"), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-secondary\",\n        type: \"button\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, logout))))))));\n    }\n  }]);\n\n  return UserInfo;\n}(Component);\n\nexport default UserInfo;","map":{"version":3,"sources":["E:/NODE_JS/DM/KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB/src/components/UserInfo.js"],"names":["React","Component","Fragment","Login","firebase","firebasefor","firebaseApp","DieuHuongUrl","dl","MenuFullOprion","Countdown","Webcam","loadModels","getFullFaceDescription","createMatcher","JSON_PROFILE","require","WIDTH","HEIGHT","inputSize","Completionist","UserInfo","props","componentWillMount","faceMatcher","setState","setInputDevice","navigator","mediaDevices","enumerateDevices","then","devices","filter","device","kind","inputDevice","length","facingMode","exact","startCapture","interval","setInterval","capture","webcam","current","getScreenshot","fullDesc","detections","map","fd","detection","descriptors","descriptor","state","findBestMatch","match","authHandler","authData","user","email","displayName","photoURL","authenticate","provider","authProvider","auth","signInWithPopup","logout","signOut","dangTaiKhoan","uid","trangthaikichhoatQR","localStore1","localStorage","getItem","kiemtraPhuVaGiay","i","createRef","dataBaseQR","time","Date","clearInterval","setItem","JSON","stringify","on","datas","Mang","forEach","element","key","queQR","val","time2","check","push","timerID","tick","onAuthStateChanged","ketqua","item","indexOf","parse","console","log","videoConstraints","camera","width","height","drawBox","_H","box","_W","_X","_x","_Y","_y","position","border","borderColor","transform","backgroundColor","marginTop","color","_label","now","toLocaleTimeString"],"mappings":"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","sourcesContent":["import React, { Component , Fragment } from \"react\";\nimport Login from \"./Login\";\nimport   firebase from \"firebase\";\nimport {firebasefor} from '../firebaseconnectio';\nimport  { firebaseApp } from \"../firebaseconnectio\";\nimport DieuHuongUrl from  './../router/DieuHuongUrl';\nimport dl from \"../components/Data/DulieuVuaNhap.json\";\nimport MenuFullOprion from \"./MenuFullOprion\";\nimport Countdown from 'react-countdown';\nimport Webcam from 'react-webcam';\nimport { loadModels, getFullFaceDescription, createMatcher } from '../api/face';\nconst JSON_PROFILE = require('../descriptors/bnk48.json');\nconst WIDTH = 720;\nconst HEIGHT = 420;\nconst inputSize = 160;\nconst Completionist = () => <span>Hẹn gặp lại bạn nhé</span>;\nclass UserInfo extends Component {\n\t\t\tconstructor(props){\n\t\t\t\tsuper(props);\n\t\t\t\tthis.webcam = React.createRef();\n\t\t\t\tthis.state = {\n\t\t\t\t\temail: null,\n\t\t\t\t\tdisplayName: null,\n\t\t\t\t\tphotoURL : null,\n\t\t\t\t\tuid : null,\n\t\t\t\t\tdataBaseQR : [],\n\t\t\t\t\ttime: new Date(),\n\t\t\t\t\tfullDesc: null,\n\t\t\t\t\tdetections: null,\n\t\t\t\t\tdescriptors: null,\n\t\t\t\t\tfaceMatcher: null,\n\t\t\t\t\tmatch: null,\n\t\t\t\t\tfacingMode: null\n\t\t\t\t};\n\t\t\t}\n\n\n\t\t\tcomponentWillMount = async () => {\n\t\t\t\tawait loadModels();\n\t\t\t\tthis.setState({ faceMatcher: await createMatcher(JSON_PROFILE) });\n\t\t\t\tthis.setInputDevice();\n\t\t\t};\n\n\t\t\tsetInputDevice = () => {\n\t\t\t\tnavigator.mediaDevices.enumerateDevices().then(async devices => {\n\t\t\t\t\tlet inputDevice = await devices.filter(\n\t\t\t\t\t\tdevice => device.kind === 'videoinput'\n\t\t\t\t\t);\n\t\t\t\t\tif (inputDevice.length < 2) {\n\t\t\t\t\t\tawait this.setState({\n\t\t\t\t\t\t\tfacingMode: 'user'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait this.setState({\n\t\t\t\t\t\t\tfacingMode: { exact: 'environment' }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.startCapture();\n\t\t\t\t});\n\t\t\t};\n\t\t\n\t\t\tstartCapture = () => {\n\t\t\t\tthis.interval = setInterval(() => {\n\t\t\t\t\tthis.capture();\n\t\t\t\t}, 1500);\n\t\t\t};\n\t\t\n\t\t\tcomponentWillUnmount() {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t}\n\t\t\n\t\t\tcapture = async () => {\n\t\t\t\tif (!!this.webcam.current) {\n\t\t\t\t\tawait getFullFaceDescription(\n\t\t\t\t\t\tthis.webcam.current.getScreenshot(),\n\t\t\t\t\t\tinputSize\n\t\t\t\t\t).then(fullDesc => {\n\t\t\t\t\t\tif (!!fullDesc) {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tdetections: fullDesc.map(fd => fd.detection),\n\t\t\t\t\t\t\t\tdescriptors: fullDesc.map(fd => fd.descriptor)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tif (!!this.state.descriptors && !!this.state.faceMatcher) {\n\t\t\t\t\t\tlet match = await this.state.descriptors.map(descriptor =>\n\t\t\t\t\t\t\tthis.state.faceMatcher.findBestMatch(descriptor)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis.setState({ match });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tcomponentWillMount() {\n\t\t\t\tif(localStorage.getItem('komsa') === null)\n\t\t\t\t{\n\t\t\t\t\tlocalStorage.setItem('komsa',JSON.stringify(dl));\n\t\t\t\t}\n\t\t\t\tfirebasefor.on('value',(datas) => {\n\t\t\t\t\tvar Mang = [];\n\t\t\t\t\tdatas.forEach(element => {\n\t\t\t\t\t\tconst key = element.key;\n\t\t\t\t\t\tconst queQR = element.val().queQR;\n\t\t\t\t\t\tconst time = element.val().time;\n\t\t\t\t\t\tconst time2 = element.val().time2;\n\t\t\t\t\t\tconst check = element.val().check;\n\t\t\t\t\t\tif(check === \"1\"){\n\t\t\t\t\t\t\tMang.push({\n\t\t\t\t\t\t\t\tkey : key,\n\t\t\t\t\t\t\t\tqueQR : queQR,\n\t\t\t\t\t\t\t\ttime : time,\n\t\t\t\t\t\t\t\ttime2 : time2\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdataBaseQR : Mang,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t}\n\t\n      componentDidMount() {\n\t\t\t\tthis.timerID = setInterval(() => this.tick(), 1000);\n        firebase.auth().onAuthStateChanged(user => {\n          if (user){\n            this.authHandler({ user });\n\t\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tuid : user.uid\n\t\t\t\t});\n\t\t\t\t});\n      }\n      authHandler = async authData => {\n        const user = authData.user;\n        this.setState({\n          email: user.email,\n\t\t\t\t\tdisplayName: user.displayName,\n\t\t\t\t\tphotoURL : user.photoURL\n        });\n      };\n    \n      authenticate = provider => {\n        const authProvider = new firebase.auth[`${provider}AuthProvider`]();\n        firebaseApp\n          .auth()\n          .signInWithPopup(authProvider)\n          .then(this.authHandler);\n      };\n    \n      logout = async () => {\n        await firebase.auth().signOut();\n        this.setState({ email: null, displayName: null , photoURL : null });\n\t\t};\n\n\t\tdangTaiKhoan = () => {\n\t\t\tif(this.state.uid === \"IJGMZnvrF8QB2BN7GFNDID91eX93\")\n\t\t\t{\n\t\t\t\treturn(\"Người điều hành\")\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn(\"người khác\");\n\t\t\t}\n\t\t}\n\t\ttrangthaikichhoatQR = () => {\n\t\t\tconst localStore1 = localStorage.getItem(\"komsa\");\n\t\t\tif(localStore1)\n\t\t\t{\n\t\t\t\treturn(\n\t\t\t\t\t<small className=\"alert alert-success\" role=\"alert\">\n  \t\t\t\t<i className=\"fas fa-smile-beam\"></i> : Mã QR được quét\n\t\t\t\t</small>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn(\n\t\t\t\t\t<small className=\"alert alert-danger\" role=\"alert\">\n\t\t\t\t\t<i className=\"fas fa-angry\"></i> : Mã QR không được quét\n\t\t\t\t</small>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tkiemtraPhuVaGiay = (i) => {\n\t\t\tif (i < 10) {i = \"0\" + i};  // add zero in front of numbers < 10\n\t\t\treturn i;\n\t\t}\n\n\t\ttick() {\n\t\t\tthis.setState({\n\t\t\t\ttime: new Date()\n\t\t\t});\n\t\t}\n\n\n\n  render() {\n   const logout = <button onClick={this.logout}>Log Out!</button>;\n    if (!this.state.email) {\n      return <Login authenticate={this.authenticate} />;\n\t\t}\n\t\tvar ketqua = [];\n\t\tthis.state.dataBaseQR.forEach((item) => {\n\t\t\tif(item.queQR.indexOf(JSON.parse(localStorage.getItem(\"komsa\"))) !== -1)\n\t\t\t{\n\t\t\t\t\tketqua.push(item);\n\t\t\t}\n\t\t});\n\t\tconsole.log(this.state.match);\n    const { detections, match, facingMode } = this.state;\n    let videoConstraints = null;\n    let camera = '';\n    if (!!facingMode) {\n      videoConstraints = {\n        width: WIDTH,\n        height: HEIGHT,\n        facingMode: facingMode\n      };\n      if (facingMode === 'user') {\n        camera = 'Front';\n      } else {\n        camera = 'Back';\n      }\n    }\n\n    let drawBox = null;\n    if (!!detections) {\n      drawBox = detections.map((detection, i) => {\n        let _H = detection.box.height;\n        let _W = detection.box.width;\n        let _X = detection.box._x;\n        let _Y = detection.box._y;\n        return (\n          <div key={i}>\n            <div\n              style={{\n                position: 'absolute',\n                border: 'solid',\n                borderColor: 'blue',\n                height: _H,\n                width: _W,\n                transform: `translate(${_X}px,${_Y}px)`\n              }}\n            >\n              {!!match && !!match[i] ? (\n                <p\n                  style={{\n                    backgroundColor: 'blue',\n                    border: 'solid',\n                    borderColor: 'blue',\n                    width: _W,\n                    marginTop: 0,\n                    color: '#fff',\n                    transform: `translate(-3px,${_H}px)`\n                  }}\n                >\n                  {match[i]._label}\n                </p>\n              ) : null}\n            </div>\n          </div>\n        );\n      });\n    }\n    return (\n     <Fragment>\n      \t<div>\n\n\t\t\t\t\t\t\t<nav className=\"navbar navbar-expand navbar-dark bg-dark static-top\">\n\t\t\t\t\t\t\t\t<a className=\"navbar-brand mr-1 fontssss\" href=\"index.html\"><img src=\"https://www.upsieutoc.com/images/2020/02/12/pngfuel.com.png\" className=\"anhdaidien\" alt=\"iconImage\" />One world one dream</a>\n\t\t\t\t\t\t\t\t{/* Navbar Search */}\n\t\t\t\t\t\t\t\t<form className=\"d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0\">\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t{/* Navbar */}\n\t\t\t\t\t\t\t\t<ul className=\"navbar-nav ml-auto ml-md-0\">\n\t\t\t\t\t\t\t\t\t<li className=\"nav-item dropdown no-arrow\">\n\t\t\t\t\t\t\t\t\t\t<a className=\"nav-link dropdown-toggle\" href=\"/\" id=\"userDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<small className=\"alert alert-dark\" role=\"alert\">\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>:&nbsp;<Countdown date={Date.now() + 57000}><Completionist /></Countdown>&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-user-circle\"></i> :&nbsp;{this.dangTaiKhoan()}&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-clock\"></i> :&nbsp;{this.state.time.toLocaleTimeString()}&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t{this.trangthaikichhoatQR()}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t<img src={this.state.photoURL} alt=\"logo\" style={{width: '40px'}} />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"userDropdown\">\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"dropdown-item\" href=\"/\"> <span>{this.state.displayName}</span></a>\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"dropdown-item\" href=\"/\"> <span>{this.state.email}</span></a>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"dropdown-divider\" />\n\t\t\t\t\t\t\t\t\t\t\t<a className=\"dropdown-item\" href=\"/\" data-toggle=\"modal\" data-target=\"#logoutModal\">Đăng xuất</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t</nav>\n\n\t\t\t\t\t\t\t<div id=\"wrapper\">\n\t\t\t\t\t\t\t\t{/* Sidebar */}\n\t\t\t\t\t\t\t\t<MenuFullOprion Phanquen={ketqua} mauuidgit={this.state.uid} />\n\t\t\t\t\t\t\t\t<div id=\"content-wrapper\">\n\t\t\t\t\t\t\t\t\t<div className=\"container-fluid\">\n\t\t\t\t\t\t\t\t\t\t{/* Breadcrumbs*/}\n\n\t\t\t\t\t\t\t\t\t\t<DieuHuongUrl/>\n\n\n\t\t\t\t\t\t\t\t\t\t{/* Sticky Footer */}\n\t\t\t\t\t\t\t\t\t\t<footer className=\"sticky-footer\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"container my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"copyright text-center my-auto\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Copyright © Your Website 2019</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</footer>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{/* /.content-wrapper */}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{/* /#wrapper */}\n\t\t\t\t\t\t\t\t{/* Scroll to Top Button*/}\n\t\t\t\t\t\t\t\t<a className=\"scroll-to-top rounded\" href=\"#page-top\">\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-angle-up\" />\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t{/* Logout Modal*/}\n\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"logoutModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">Bạn có muốn đăng xuất không?</h5>\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"close\" type=\"button\" data-dismiss=\"modal\" aria-label=\"Close\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">×</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-body\">Nếu đồng lý hãy chọn Logout nếu không đồng ý hãy chọn Cancel</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-footer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-secondary\" type=\"button\" data-dismiss=\"modal\">Cancel</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"button\">{logout}</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t</div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UserInfo;"]},"metadata":{},"sourceType":"module"}