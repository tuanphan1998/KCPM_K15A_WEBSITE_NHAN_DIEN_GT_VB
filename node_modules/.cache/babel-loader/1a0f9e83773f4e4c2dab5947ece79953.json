{"ast":null,"code":"import _regeneratorRuntime from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\NODE_JS\\\\DM\\\\KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB\\\\src\\\\components\\\\item.js\";\nimport React, { Component } from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport dl from './Data/DulieuHuanLuyen.json';\n\nvar item =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(item, _Component);\n\n  function item(props) {\n    var _this;\n\n    _classCallCheck(this, item);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(item).call(this, props));\n\n    _this.showconten = function () {\n      if (_this.props.dulieushh.nationality === \"N/A\") {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 17\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh \\u0111\\u1EA7u v\\xE0o : ch\\u1EE9ng minh nh\\xE2n d\\xE2n (Lo\\u1EA1i c\\u0169) \");\n      } else if (_this.props.dulieushh.nationality === undefined) {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh \\u0111\\u1EA7u v\\xE0o : ch\\u1EE9ng minh nh\\xE2n d\\xE2n (Lo\\u1EA1i m\\u1EDBi) \");\n      } else {\n        return React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh \\u0111\\u1EA7u v\\xE0o :  C\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\");\n      }\n    };\n\n    _this.tensorflowtinhtoan = function () {\n      var names = [];\n      var sexs = [];\n      var sexname = [\"NAM\", \"NỮ\"];\n      dl.map(function (item) {\n        names.push((item.namecat.charCodeAt(0) + item.namecat.charCodeAt(1) + item.namecat.charCodeAt(2) - 169) / 77);\n        sexs.push(sexname.indexOf(item.sexcat));\n        return 0;\n      });\n      console.log(names); // dua data ve tensor\n\n      var xs = tf.tensor1d(names);\n      var convetys = tf.tensor1d(sexs, 'int32');\n      var ys = tf.oneHot(convetys, 2);\n      console.log(sexs);\n      console.log(ys); // dua ve model va cac mo hinh\n\n      var model = tf.sequential();\n      var HiddenLayOut = tf.layers.dense({\n        units: 16,\n        activation: 'sigmoid',\n        inputDim: 1\n      });\n      var OutPutLayOut = tf.layers.dense({\n        activation: 'softmax',\n        units: 2\n      });\n      model.add(HiddenLayOut);\n      model.add(OutPutLayOut);\n      model.compile({\n        optimizer: tf.train.sgd(0, 2),\n        loss: 'categoricalCrossentropy'\n      });\n      console.log(\"Đang tự học\"); // train data\n\n      function train() {\n        return _train.apply(this, arguments);\n      }\n\n      function _train() {\n        _train = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var option;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  option = {\n                    epochs: 10,\n                    validationSplit: 0.1,\n                    shuffle: true\n                  };\n                  _context.next = 3;\n                  return model.fit(xs, ys, option);\n\n                case 3:\n                  return _context.abrupt(\"return\", _context.sent);\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n        return _train.apply(this, arguments);\n      }\n\n      train().then(function (res) {\n        console.log(\"học hỏi thành công\");\n        console.log(res.history.loss);\n        var data = _this.props.dulieushh.name;\n        var cut = data.slice(-3);\n\n        function to_slug(str) {\n          // Chuyển hết sang chữ thường\n          str = str.toLowerCase(); // xóa dấu\n\n          str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\n          str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\n          str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\n          str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\n          str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\n          str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\n          str = str.replace(/(đ)/g, 'd'); // Xóa ký tự đặc biệt\n\n          str = str.replace(/([^0-9a-z-\\s])/g, ''); // Xóa khoảng trắng thay bằng ký tự -\n\n          str = str.replace(/(\\s+)/g, ''); // xóa phần dự - ở đầu\n\n          str = str.replace(/^-+/g, ''); // xóa phần dư - ở cuối\n\n          str = str.replace(/-+$/g, ''); // return\n\n          return str;\n        }\n\n        var all = to_slug(cut);\n        var ket = all.toUpperCase(); // ket qua train\n\n        var dataconvetint32 = (ket.charCodeAt(0) + ket.charCodeAt(1) + ket.charCodeAt(2) - 169) / 77;\n        var tensordata = tf.tensor1d([dataconvetint32]);\n        var aws = model.predict(tensordata);\n        var max = aws.argMax(1).dataSync()[0];\n        var ketqua = sexname[max];\n\n        _this.setState({\n          ketquachinhthuc: ketqua\n        });\n\n        console.log(_this.state.ketquachinhthuc);\n      });\n    };\n\n    _this.phongdoangioitinh = function () {\n      if (_this.props.dulieushh.sex === \"N/A\") {\n        return React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-success\",\n          onClick: function onClick() {\n            return _this.tensorflowtinhtoan();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"T\\u1EF0 H\\u1ECCC\");\n      } else {\n        return _this.props.dulieushh.sex;\n      }\n    };\n\n    _this.state = {\n      data: _this.props.dulieushh,\n      ketquachinhthuc: ''\n    };\n    return _this;\n  }\n\n  _createClass(item, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, this.showconten(), React.createElement(\"div\", {\n        className: \"card text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.props.dulieushh.cropped_idcard && React.createElement(\"img\", {\n        className: \"card-img-top\",\n        width: \"120px\",\n        src: this.props.dulieushh.cropped_idcard,\n        alt: \"demo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), this.props.dulieushh && React.createElement(\"img\", {\n        className: \"card-img-top\",\n        width: \"120px\",\n        src: this.props.dulieushh,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, this.props.dulieushh.face && React.createElement(\"img\", {\n        className: \"card-img-top left_manager\",\n        style: {\n          width: '240px',\n          height: '300px',\n          marginRight: '40px'\n        },\n        src: this.props.dulieushh.face,\n        alt: \"demo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"card-body\",\n        style: {\n          paddingTop: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, this.props.dulieushh.name && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"T\\xEAn : \", this.props.dulieushh.name), this.props.dulieushh.address && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9 : \", this.props.dulieushh.address), this.props.dulieushh.home && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9 \\u0111\\u0103ng k\\xFD : \", this.props.dulieushh.home), this.props.dulieushh.id && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"S\\u1ED1 cmnd : \", this.props.dulieushh.id), this.props.dulieushh.dob && React.createElement(\"h5\", {\n        className: \"card-title color_mana mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Ng\\xE0y sinh : \", this.props.dulieushh.dob), this.props.dulieushh.sex && React.createElement(\"h5\", {\n        className: \"card-title color_mana  mb-10\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"Gi\\u1EDBi t\\xEDnh : \", this.phongdoangioitinh(), \"     \", this.state.ketquachinhthuc), this.props.dulieushh.doe && React.createElement(\"h5\", {\n        className: \"card-title color_mana\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"Ng\\xE0y h\\u1EBFt h\\u1EA1n : \", this.props.dulieushh.doe), this.props.dulieushh.nationality && React.createElement(\"h5\", {\n        className: \"card-title color_mana\",\n        style: {\n          marginBottom: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \"Qu\\u1ED1c t\\u1ECBch : \", this.props.dulieushh.nationality))))));\n    }\n  }]);\n\n  return item;\n}(Component);\n\nexport default item;","map":{"version":3,"sources":["E:/NODE_JS/DM/KCPM_K15A_WEBSITE_NHAN_DIEN_GT_VB/src/components/item.js"],"names":["React","Component","tf","dl","item","props","showconten","dulieushh","nationality","undefined","tensorflowtinhtoan","names","sexs","sexname","map","push","namecat","charCodeAt","indexOf","sexcat","console","log","xs","tensor1d","convetys","ys","oneHot","model","sequential","HiddenLayOut","layers","dense","units","activation","inputDim","OutPutLayOut","add","compile","optimizer","train","sgd","loss","option","epochs","validationSplit","shuffle","fit","then","res","history","data","name","cut","slice","to_slug","str","toLowerCase","replace","all","ket","toUpperCase","dataconvetint32","tensordata","aws","predict","max","argMax","dataSync","ketqua","setState","ketquachinhthuc","state","phongdoangioitinh","sex","cropped_idcard","face","width","height","marginRight","paddingTop","marginBottom","address","home","id","dob","doe"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,kBAApB;AACA,OAAOC,EAAP,MAAe,6BAAf;;IACMC,I;;;;;AAEF,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8EAAMA,KAAN;;AADe,UAOnBC,UAPmB,GAON,YAAM;AACf,UAAG,MAAKD,KAAL,CAAWE,SAAX,CAAqBC,WAArB,KAAqC,KAAxC,EACA;AACI,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yGADJ;AAIH,OAND,MAOK,IAAI,MAAKH,KAAL,CAAWE,SAAX,CAAqBC,WAArB,KAAqCC,SAAzC,EACL;AACI,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0GADJ;AAGH,OALI,MAOL;AACI,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6FADJ;AAGH;AACJ,KA3BkB;;AAAA,UA6BnBC,kBA7BmB,GA6BE,YAAM;AACnB,UAAKC,KAAK,GAAG,EAAb;AACA,UAAIC,IAAI,GAAG,EAAX;AACA,UAAIC,OAAO,GAAG,CAAC,KAAD,EAAO,IAAP,CAAd;AAEAV,MAAAA,EAAE,CAACW,GAAH,CAAO,UAACV,IAAD,EAAU;AACbO,QAAAA,KAAK,CAACI,IAAN,CAAW,CAAGX,IAAI,CAACY,OAAN,CAAeC,UAAf,CAA0B,CAA1B,IAAgCb,IAAI,CAACY,OAAN,CAAeC,UAAf,CAA0B,CAA1B,CAA/B,GAA+Db,IAAI,CAACY,OAAN,CAAeC,UAAf,CAA0B,CAA1B,CAA/D,GAA6F,GAA9F,IAAmG,EAA9G;AACAL,QAAAA,IAAI,CAACG,IAAL,CAAUF,OAAO,CAACK,OAAR,CAAgBd,IAAI,CAACe,MAArB,CAAV;AACA,eAAO,CAAP;AACH,OAJD;AAKAC,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ,EAVmB,CAanB;;AACA,UAAIW,EAAE,GAAGpB,EAAE,CAACqB,QAAH,CAAYZ,KAAZ,CAAT;AACA,UAAIa,QAAQ,GAAGtB,EAAE,CAACqB,QAAH,CAAYX,IAAZ,EAAiB,OAAjB,CAAf;AACA,UAAIa,EAAE,GAAGvB,EAAE,CAACwB,MAAH,CAAUF,QAAV,EAAmB,CAAnB,CAAT;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACAQ,MAAAA,OAAO,CAACC,GAAR,CAAYI,EAAZ,EAlBmB,CAoBnB;;AAEA,UAAIE,KAAK,GAAGzB,EAAE,CAAC0B,UAAH,EAAZ;AACA,UAAIC,YAAY,GAAG3B,EAAE,CAAC4B,MAAH,CAAUC,KAAV,CAAgB;AAC/BC,QAAAA,KAAK,EAAG,EADuB;AAE/BC,QAAAA,UAAU,EAAG,SAFkB;AAG/BC,QAAAA,QAAQ,EAAG;AAHoB,OAAhB,CAAnB;AAKA,UAAIC,YAAY,GAAGjC,EAAE,CAAC4B,MAAH,CAAUC,KAAV,CAAgB;AAC/BE,QAAAA,UAAU,EAAG,SADkB;AAE/BD,QAAAA,KAAK,EAAG;AAFuB,OAAhB,CAAnB;AAKAL,MAAAA,KAAK,CAACS,GAAN,CAAUP,YAAV;AACAF,MAAAA,KAAK,CAACS,GAAN,CAAUD,YAAV;AACAR,MAAAA,KAAK,CAACU,OAAN,CAAc;AACVC,QAAAA,SAAS,EAAGpC,EAAE,CAACqC,KAAH,CAASC,GAAT,CAAa,CAAb,EAAe,CAAf,CADF;AAEVC,QAAAA,IAAI,EAAE;AAFI,OAAd;AAKArB,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAxCmB,CA2CnB;;AA3CmB,eA4CJkB,KA5CI;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,iCA4CnB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQG,kBAAAA,MADR,GAEI;AACKC,oBAAAA,MAAM,EAAG,EADd;AAEKC,oBAAAA,eAAe,EAAG,GAFvB;AAGKC,oBAAAA,OAAO,EAAG;AAHf,mBAFJ;AAAA;AAAA,yBAOiBlB,KAAK,CAACmB,GAAN,CAAUxB,EAAV,EAAeG,EAAf,EAAoBiB,MAApB,CAPjB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA5CmB;AAAA;AAAA;;AAuDnBH,MAAAA,KAAK,GAAGQ,IAAR,CAAa,UAACC,GAAD,EAAS;AAClB5B,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY2B,GAAG,CAACC,OAAJ,CAAYR,IAAxB;AAEA,YAAIS,IAAI,GAAG,MAAK7C,KAAL,CAAWE,SAAX,CAAqB4C,IAAhC;AACA,YAAIC,GAAG,GAAGF,IAAI,CAACG,KAAL,CAAW,CAAC,CAAZ,CAAV;;AACA,iBAASC,OAAT,CAAiBC,GAAjB,EACA;AACI;AACAA,UAAAA,GAAG,GAAGA,GAAG,CAACC,WAAJ,EAAN,CAFJ,CAII;;AACAD,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,sCAAZ,EAAoD,GAApD,CAAN;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,0BAAZ,EAAwC,GAAxC,CAAN;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,cAAZ,EAA4B,GAA5B,CAAN;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,sCAAZ,EAAoD,GAApD,CAAN;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,0BAAZ,EAAwC,GAAxC,CAAN;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,cAAZ,EAA4B,GAA5B,CAAN;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAXJ,CAaI;;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,iBAAZ,EAA+B,EAA/B,CAAN,CAdJ,CAgBI;;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAN,CAjBJ,CAmBI;;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,EAApB,CAAN,CApBJ,CAsBI;;AACAF,UAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,EAApB,CAAN,CAvBJ,CAyBI;;AACA,iBAAOF,GAAP;AACH;;AACD,YAAIG,GAAG,GAAIJ,OAAO,CAACF,GAAD,CAAlB;AACA,YAAIO,GAAG,GAAGD,GAAG,CAACE,WAAJ,EAAV,CApCkB,CAsClB;;AACA,YAAIC,eAAe,GAAI,CAAEF,GAAG,CAAC1C,UAAJ,CAAe,CAAf,IAAoB0C,GAAG,CAAC1C,UAAJ,CAAe,CAAf,CAApB,GAAwC0C,GAAG,CAAC1C,UAAJ,CAAe,CAAf,CAAzC,GAA8D,GAA/D,IAAsE,EAA7F;AACA,YAAI6C,UAAU,GAAG5D,EAAE,CAACqB,QAAH,CAAY,CAACsC,eAAD,CAAZ,CAAjB;AACA,YAAIE,GAAG,GAAGpC,KAAK,CAACqC,OAAN,CAAcF,UAAd,CAAV;AACA,YAAIG,GAAG,GAAGF,GAAG,CAACG,MAAJ,CAAW,CAAX,EAAcC,QAAd,GAAyB,CAAzB,CAAV;AACA,YAAIC,MAAM,GAAGvD,OAAO,CAACoD,GAAD,CAApB;;AACA,cAAKI,QAAL,CAAc;AACVC,UAAAA,eAAe,EAAGF;AADR,SAAd;;AAGAhD,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAKkD,KAAL,CAAWD,eAAvB;AACH,OAhDD;AAiDP,KArIkB;;AAAA,UAyInBE,iBAzImB,GAyIC,YAAM;AACtB,UAAG,MAAKnE,KAAL,CAAWE,SAAX,CAAqBkE,GAArB,KAA6B,KAAhC,EACA;AACI,eACI;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,iBAAhC;AAAkD,UAAA,OAAO,EAAE;AAAA,mBAAI,MAAK/D,kBAAL,EAAJ;AAAA,WAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ;AAGH,OALD,MAOA;AACI,eAAQ,MAAKL,KAAL,CAAWE,SAAX,CAAqBkE,GAA7B;AACH;AACJ,KApJkB;;AAEf,UAAKF,KAAL,GAAa;AACTrB,MAAAA,IAAI,EAAG,MAAK7C,KAAL,CAAWE,SADT;AAET+D,MAAAA,eAAe,EAAG;AAFT,KAAb;AAFe;AAMlB;;;;6BAkJQ;AACL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACS,KAAKhE,UAAL,EADT,EAEQ;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKD,KAAL,CAAWE,SAAX,CAAqBmE,cAArB,IAAwC;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,KAAK,EAAC,OAApC;AAA4C,QAAA,GAAG,EAAE,KAAKrE,KAAL,CAAWE,SAAX,CAAqBmE,cAAtE;AAAsF,QAAA,GAAG,EAAC,MAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADzC,EAEC,KAAKrE,KAAL,CAAWE,SAAX,IAAyB;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,KAAK,EAAC,OAApC;AAA4C,QAAA,GAAG,EAAE,KAAKF,KAAL,CAAWE,SAA5D;AAAuE,QAAA,GAAG,EAAC,EAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAF1B,CADA,EAKA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAKF,KAAL,CAAWE,SAAX,CAAqBoE,IAArB,IAA8B;AAAK,QAAA,SAAS,EAAC,2BAAf;AAA2C,QAAA,KAAK,EAAE;AAACC,UAAAA,KAAK,EAAE,OAAR;AAAgBC,UAAAA,MAAM,EAAE,OAAxB;AAAiCC,UAAAA,WAAW,EAAE;AAA9C,SAAlD;AAAyG,QAAA,GAAG,EAAE,KAAKzE,KAAL,CAAWE,SAAX,CAAqBoE,IAAnI;AAAyI,QAAA,GAAG,EAAC,MAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAD/B,EAEI;AAAK,QAAA,SAAS,EAAC,WAAf;AAA2B,QAAA,KAAK,EAAE;AAACI,UAAAA,UAAU,EAAE;AAAb,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAK1E,KAAL,CAAWE,SAAX,CAAqB4C,IAArB,IAA6B;AAAI,QAAA,SAAS,EAAC,6BAAd;AAA4C,QAAA,KAAK,EAAE;AAAC6B,UAAAA,YAAY,EAAE;AAAf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkF,KAAK3E,KAAL,CAAWE,SAAX,CAAqB4C,IAAvG,CAD9B,EAEC,KAAK9C,KAAL,CAAWE,SAAX,CAAqB0E,OAArB,IAAkC;AAAI,QAAA,SAAS,EAAC,6BAAd;AAA4C,QAAA,KAAK,EAAE;AAACD,UAAAA,YAAY,EAAE;AAAf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAsF,KAAK3E,KAAL,CAAWE,SAAX,CAAqB0E,OAA3G,CAFnC,EAGC,KAAK5E,KAAL,CAAWE,SAAX,CAAqB2E,IAArB,IAA6B;AAAI,QAAA,SAAS,EAAC,6BAAd;AAA4C,QAAA,KAAK,EAAE;AAACF,UAAAA,YAAY,EAAE;AAAf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2DAA8F,KAAK3E,KAAL,CAAWE,SAAX,CAAqB2E,IAAnH,CAH9B,EAIC,KAAK7E,KAAL,CAAWE,SAAX,CAAqB4E,EAArB,IAA6B;AAAI,QAAA,SAAS,EAAC,6BAAd;AAA4C,QAAA,KAAK,EAAE;AAACH,UAAAA,YAAY,EAAE;AAAf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAsF,KAAK3E,KAAL,CAAWE,SAAX,CAAqB4E,EAA3G,CAJ9B,EAKC,KAAK9E,KAAL,CAAWE,SAAX,CAAqB6E,GAArB,IAA8B;AAAI,QAAA,SAAS,EAAC,6BAAd;AAA4C,QAAA,KAAK,EAAE;AAACJ,UAAAA,YAAY,EAAE;AAAf,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAwF,KAAK3E,KAAL,CAAWE,SAAX,CAAqB6E,GAA7G,CAL/B,EAMC,KAAK/E,KAAL,CAAWE,SAAX,CAAqBkE,GAArB,IAA8B;AAAI,QAAA,SAAS,EAAC,8BAAd;AAA6C,QAAA,KAAK,EAAE;AAACO,UAAAA,YAAY,EAAE;AAAf,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAyF,KAAKR,iBAAL,EAAzF,WAAwH,KAAKD,KAAL,CAAWD,eAAnI,CAN/B,EAOC,KAAKjE,KAAL,CAAWE,SAAX,CAAqB8E,GAArB,IAA8B;AAAI,QAAA,SAAS,EAAC,uBAAd;AAAsC,QAAA,KAAK,EAAE;AAACL,UAAAA,YAAY,EAAE;AAAf,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAAqF,KAAK3E,KAAL,CAAWE,SAAX,CAAqB8E,GAA1G,CAP/B,EAQC,KAAKhF,KAAL,CAAWE,SAAX,CAAqBC,WAArB,IAAsC;AAAI,QAAA,SAAS,EAAC,uBAAd;AAAsC,QAAA,KAAK,EAAE;AAACwE,UAAAA,YAAY,EAAE;AAAf,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAAkF,KAAK3E,KAAL,CAAWE,SAAX,CAAqBC,WAAvG,CARvC,CAFJ,CALA,CAFR,CAFJ,CADJ;AA2BH;;;;EAtLcP,S;;AAyLnB,eAAeG,IAAf","sourcesContent":["import React, { Component } from 'react';\nimport * as tf from '@tensorflow/tfjs';\nimport dl from './Data/DulieuHuanLuyen.json';\nclass item extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            data : this.props.dulieushh,\n            ketquachinhthuc : ''\n        };\n    }\n    showconten = () => {\n        if(this.props.dulieushh.nationality === \"N/A\")\n        {\n            return (\n                <h4>Hình ảnh đầu vào : chứng minh nhân dân (Loại cũ) </h4>\n                \n            )\n        }\n        else if (this.props.dulieushh.nationality === undefined)\n        {\n            return (\n                <h4>Hình ảnh đầu vào : chứng minh nhân dân (Loại mới) </h4>\n            )\n        }\n        else\n        {\n            return (\n                <h4>Hình ảnh đầu vào :  Căn cước công dân</h4>\n            )\n        }\n    }\n\n    tensorflowtinhtoan = () => {\n            let  names = [];\n            let sexs = [];\n            let sexname = [\"NAM\",\"NỮ\"];\n    \n            dl.map((item) => {\n                names.push((((item.namecat).charCodeAt(0) + (item.namecat).charCodeAt(1) + (item.namecat).charCodeAt(2))-169)/77);\n                sexs.push(sexname.indexOf(item.sexcat));\n                return 0;\n            })\n            console.log(names);\n    \n            \n            // dua data ve tensor\n            let xs = tf.tensor1d(names);\n            let convetys = tf.tensor1d(sexs,'int32');\n            let ys = tf.oneHot(convetys,2);\n            console.log(sexs);\n            console.log(ys);\n    \n            // dua ve model va cac mo hinh\n    \n            let model = tf.sequential();\n            let HiddenLayOut = tf.layers.dense({\n                units : 16,\n                activation : 'sigmoid',\n                inputDim : 1,\n            })\n            let OutPutLayOut = tf.layers.dense({\n                activation : 'softmax',\n                units : 2\n            })\n    \n            model.add(HiddenLayOut);\n            model.add(OutPutLayOut);\n            model.compile({\n                optimizer : tf.train.sgd(0,2),\n                loss: 'categoricalCrossentropy'\n            })\n    \n            console.log(\"Đang tự học\");\n    \n    \n            // train data\n            async function train(){\n                let option =\n                {\n                   \t\tepochs : 10,\n                     validationSplit : 0.1,\n                     shuffle : true\n                }\n                return await model.fit(xs , ys , option );\n                \n            }\n    \n            train().then((res) => {\n                console.log(\"học hỏi thành công\");\n                console.log(res.history.loss);\n    \n                let data = this.props.dulieushh.name;\n                let cut = data.slice(-3);\n                function to_slug(str)\n                {\n                    // Chuyển hết sang chữ thường\n                    str = str.toLowerCase();     \n                \n                    // xóa dấu\n                    str = str.replace(/(à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ)/g, 'a');\n                    str = str.replace(/(è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ)/g, 'e');\n                    str = str.replace(/(ì|í|ị|ỉ|ĩ)/g, 'i');\n                    str = str.replace(/(ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ)/g, 'o');\n                    str = str.replace(/(ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ)/g, 'u');\n                    str = str.replace(/(ỳ|ý|ỵ|ỷ|ỹ)/g, 'y');\n                    str = str.replace(/(đ)/g, 'd');\n                \n                    // Xóa ký tự đặc biệt\n                    str = str.replace(/([^0-9a-z-\\s])/g, '');\n                \n                    // Xóa khoảng trắng thay bằng ký tự -\n                    str = str.replace(/(\\s+)/g, '');\n                \n                    // xóa phần dự - ở đầu\n                    str = str.replace(/^-+/g, '');\n                \n                    // xóa phần dư - ở cuối\n                    str = str.replace(/-+$/g, '');\n                \n                    // return\n                    return str;\n                }\n                let all =  to_slug(cut);\n                let ket = all.toUpperCase();\n            \n                // ket qua train\n                let dataconvetint32 = (((ket.charCodeAt(0) + ket.charCodeAt(1) + ket.charCodeAt(2)) - 169) / 77);\n                let tensordata = tf.tensor1d([dataconvetint32]);\n                let aws = model.predict(tensordata);\n                let max = aws.argMax(1).dataSync()[0];\n                let ketqua = sexname[max];\n                this.setState({\n                    ketquachinhthuc : ketqua\n                });\n                console.log(this.state.ketquachinhthuc);\n            })\n    }\n\n\n\n    phongdoangioitinh = () => {\n        if(this.props.dulieushh.sex === \"N/A\")\n        {\n            return(\n                <button type=\"button\" className=\"btn btn-success\" onClick={()=>this.tensorflowtinhtoan()}>TỰ HỌC</button> \n            );\n        }\n        else\n        {\n            return (this.props.dulieushh.sex);\n        }\n    }\n\n\n\n    render() {\n        return (\n            <div>\n               \n                <div className=\"col\">\n                        {this.showconten()}\n                        <div className=\"card text-left\">\n                        <div className=\"card-body\">\n                        {this.props.dulieushh.cropped_idcard &&  <img className=\"card-img-top\" width=\"120px\" src={this.props.dulieushh.cropped_idcard} alt=\"demo\" /> }\n                        {this.props.dulieushh &&  <img className=\"card-img-top\" width=\"120px\" src={this.props.dulieushh} alt=\"\" /> }\n                        </div>\n                        <div className=\"card-body\" >\n                        {this.props.dulieushh.face &&  <img className=\"card-img-top left_manager\" style={{width: '240px',height: '300px', marginRight: '40px'}} src={this.props.dulieushh.face} alt=\"demo\" />}\n                            <div className=\"card-body\" style={{paddingTop: '0px'}}>\n                            {this.props.dulieushh.name && <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Tên : {this.props.dulieushh.name}</h5> }\n                            {this.props.dulieushh.address &&   <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Địa chỉ : {this.props.dulieushh.address}</h5> }\n                            {this.props.dulieushh.home && <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Địa chỉ đăng ký : {this.props.dulieushh.home}</h5>}\n                            {this.props.dulieushh.id &&   <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Số cmnd : {this.props.dulieushh.id}</h5>}\n                            {this.props.dulieushh.dob &&   <h5 className=\"card-title color_mana mb-10\" style={{marginBottom: '16px'}}>Ngày sinh : {this.props.dulieushh.dob}</h5> }\n                            {this.props.dulieushh.sex &&   <h5 className=\"card-title color_mana  mb-10\" style={{marginBottom: '16px'}}>Giới tính : {this.phongdoangioitinh()}     {this.state.ketquachinhthuc}</h5> }\n                            {this.props.dulieushh.doe &&   <h5 className=\"card-title color_mana\" style={{marginBottom: '16px'}}>Ngày hết hạn : {this.props.dulieushh.doe}</h5> }\n                            {this.props.dulieushh.nationality &&   <h5 className=\"card-title color_mana\" style={{marginBottom: '16px'}}>Quốc tịch : {this.props.dulieushh.nationality}</h5> }\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default item;"]},"metadata":{},"sourceType":"module"}